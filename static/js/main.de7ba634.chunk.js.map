{"version":3,"sources":["redux/store.js","common/animateJs.js","common/getData.js","components/Content/ContentTitleBtn.js","components/Content/ContentTitle.js","common/AnimateLink.js","common/Scroll/Scroll.js","components/Content/ContentTopBanner.js","components/Content/ContentList.js","components/Content/ContentTopList.js","components/Content/ContentTop.js","common/getDateWeek.js","components/Content/ContentBeforeTitle.js","components/Content/ContentBeforeList.js","components/Content/ContentBefore.js","common/Loading/Loding.js","components/Content/Content.js","components/Tab/TabUser.js","components/Tab/TabOption.js","components/Tab/TabList.js","components/Tab/Tab.js","components/Index/Index.js","components/Page/PageListContent.js","components/Page/PageListComment.js","components/Page/PageListTop.js","components/Page/PageListBot.js","components/Page/PageList.js","components/Page/Page.js","components/Comment/CommentTitle.js","components/Comment/CommentListContent.js","components/Comment/CommentListLong.js","components/Comment/CommentListShort.js","components/Comment/CommentList.js","components/Comment/CommentBot.js","components/Comment/Comment.js","App.js","serviceWorker.js","index.js","components/Page/images/up.svg","components/Page/images/arrow.svg","components/Content/image/btn.svg","common/Loading/image/Rolling-1s-200px.svg","components/Tab/image/timg.jpg","components/Tab/image/收藏.svg","components/Tab/image/消息.svg","components/Tab/image/设置.svg","components/Tab/image/首页.svg","components/Page/images/like.svg","components/Page/images/share.svg","components/Page/images/message.svg","components/Comment/images/like.svg","components/Comment/images/arrow.svg","components/Comment/images/comment.svg"],"names":["store","createStore","state","action","type","Object","assign","date","topData","beforeData","top_stories_id","stories_id","pageList","commentList","titleList","push","subscribe","console","log","getState","animate","from","to","el","promise","time","left","distance","pos","_time","num","transform","window","cancelAnimationFrame","style","concat","requestAnimationFrame","animateY","up","Math","abs","bannerAnimate","y","bannerEl","imgsEl","bannerHieght","scale","height","i","length","getBeforeData","dispatch","latest","Axios","get","then","res","data","stories","map","val","id","ContentTitleBtn","react_default","a","createElement","className","width","margin","position","onClick","indexEl","document","getElementsByClassName","indexPos","Number","getComputedStyle","split","tabWidth","clientWidth","src","btn","alt","ContentTitle","props","documentElement","Content_ContentTitleBtn","color","AnimateLink","react_router_dom","outSide","outSide_from","outSide_to","inSide","inSide_to","children","Scroll","this","scroll","CScroll","refs","options","getScroll","refresh","ref","React","Component","ContentBanner","top_stories","common_Scroll_Scroll","overflow","scrollX","direction","swiper","loop","index","data-type","key","common_AnimateLink","querySelector","image","ga_prefix","title","ContentList","images","ContentTopList","components_Content_ContentList","ContentTop","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Content_ContentTopBanner","Content_ContentTopList","getWeekDay","week","week_ehg","week_cn","getDateWeek","year","slice","month","day","weekDate","Date","toString","ContentBeforeTitle","beforeTitle","offsetTop","onGetTitleList","getTitleList","background","connect","arr","ContentBeforeList","ContentBefore","Content_ContentBeforeTitle","Content_ContentBeforeList","Loading","clientHeight","display","justifyContent","alignItems","loading","lineHeight","Content","titleEl","pEl","imgEl","bannerHeight","dataLoading","_this2","spanEl","querySelectorAll","on","ev","onScrollDown","onScrollUp","_this3","contentHeight","$dom","content_h","el_h","p","len","rgb","backgroundColor","forEach","lastVal","_y","innerText","titleAnimate","getTopData","Fragment","components_Content_ContentTitle","scrollBar","sideLock","bind","Content_ContentTop","Content_ContentBefore","Loding","TabUser","borderRadius","timg","TabOpiton","list","收藏","消息","设置","marginTop","textAlign","marginRight","TabList","首页","Tab","Tab_TabUser","TabOption","Tab_TabList","Index","container","that","currentTarget","dx","touches","clientX","contentWidth","ontouchmove","mx","ontouchend","tabW","float","onTouchStart","components_Tab_Tab","components_Content_Content","PageListContent","linkEl","css","link","setAttribute","appendChild","removeChild","main","content","innerHTML","onload","indexId","fn","news","defineProperty","getNewsData","setState","createLink","createImg","onScroll","nextProps","removeLink","dangerouslySetInnerHTML","__html","body","PageListComment","long_comments","short_comments","all","spread","acct","perms","longComment","shortComment","getCommentData","comments","stopPropagation","goBack","history","contentEl","pageEl","pageWidth","Promise","nextId","onPageNextListData","arrow","onClickLeft","onClickDown","like","share","message","withRouter","PageListTop","transition","switch","top","prevId","PageListBot","marginBottom","PageList","pageContent","onPrevListData","initSetPos","_this4","onNextListData","_this5","prevState","onPagePrevListData","removeEvent","minHeight","components_Page_PageListContent","onPageScroll","Page_PageListTop","Page_PageListBot","components_Page_PageListComment","Page","type_id","_url","url","parse","location","search","query","listen","newPageList","array","_pprev","_prev","_mid","_next","obj","vx","contentVx","touchEnd","_contentWidth","_pageWidth","getPageList","replace","getUrl","Page_PageList","CommentTitle","commentNum","CommentListContent","borderBottom","comment","avatar","fontWeight","author","likes","fontSize","_month","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","now","getDate","CommentListLong","long","longComments","marginLeft","Comment_CommentListContent","CommentListShort","short","shortComments","CommentList","scrollStyle","listStyle","paddingBottom","Comment_CommentListLong","Comment_CommentListShort","CommentBot","bottom","commentEl","commentWidth","Comment","match","params","pageVx","commentVx","Comment_CommentTitle","Comment_CommentList","Comment_CommentBot","App","indexStyle","pageStyle","commentStyle","es","components_Index_Index","react_router","path","component","Boolean","hostname","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__"],"mappings":"4RAoCMA,EAAQC,YAvBE,SAACC,EAAOC,GACpB,OAAQA,EAAOC,MACX,IAAK,WACD,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAAEK,KAAMJ,EAAOI,OACnD,IAAK,cACD,OAAOF,OAAOC,OAAO,GAAIJ,EAAO,CAAEM,QAASL,EAAOK,UACtD,IAAK,iBACD,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAAEO,WAAYN,EAAOM,aACzD,IAAK,qBACD,OAAOJ,OAAOC,OAAO,GAAIJ,EAAO,CAAEQ,eAAgBP,EAAOO,iBAC7D,IAAK,iBACD,OAAOL,OAAOC,OAAO,GAAIJ,EAAO,CAAES,WAAYR,EAAOQ,aACzD,IAAK,eACD,OAAON,OAAOC,OAAO,GAAIJ,EAAO,CAAEU,SAAUT,EAAOS,WACvD,IAAK,kBACD,OAAOP,OAAOC,OAAO,GAAIJ,EAAO,CAAEW,YAAaV,EAAOU,cAC1D,IAAK,gBAED,OADAX,EAAMY,UAAUC,KAAKZ,EAAOW,WACrBT,OAAOC,OAAO,GAAIJ,EAAO,CAAEY,UAAWZ,EAAMY,YACvD,QACI,OAAOZ,IA/BL,CACVK,KAAM,KACNC,QAAS,GACTC,WAAY,GACZC,eAAgB,GAChBC,WAAY,GACZC,SAAU,GACVC,YAAa,GACbC,UAAW,KA4Bfd,EAAMgB,UAAU,WACZC,QAAQC,IAAIlB,EAAMmB,cAGPnB,2DClCToB,EAAU,SAACC,EAAMC,EAAIC,EAAIC,EAAQC,GACnC,IAAIC,EAAO,KACPC,EAAWN,EAAOC,EAClBM,EAAMP,EACNQ,EAAQ,KACRC,EAAM,EAENJ,EADJL,EAAOC,GAEW,SAAZS,IAGF,OAAY,QADZD,GAEIE,OAAOC,qBAAqBJ,GAC5BH,EAAO,KACPC,EAAW,KACXC,EAAM,KACNC,EAAQ,KACRC,EAAM,UACNb,QAAQC,IAAI,QAIbU,GAAON,GAAMI,GACZH,EAAGW,MAAMH,UAAT,cAAAI,OAAmCb,EAAnC,uBACGE,GAASA,IAEZE,EAAO,KACPC,EAAW,KACXC,EAAM,KACNC,EAAQ,UACRC,EAAM,QAEAJ,IACNE,GAAkB,GAAXD,EACPJ,EAAGW,MAAMH,UAAT,cAAAI,OAAmCP,EAAnC,uBACAI,OAAOI,sBAAsBL,IAG7BH,GAAON,IAAOI,GACdH,EAAGW,MAAMH,UAAT,cAAAI,OAAmCb,EAAnC,uBACGE,GAASA,IACZE,EAAO,KACPC,EAAW,KACXC,EAAM,KACNC,EAAQ,UACRC,EAAM,YAECJ,IACPE,GAAkB,GAAXD,EACPJ,EAAGW,MAAMH,UAAT,cAAAI,OAAmCP,EAAnC,uBACAI,OAAOI,sBAAsBL,MAIrCA,IASEM,EAAW,SAAChB,EAAMC,EAAIC,EAAKC,GAC7B,IAAIc,EAAK,KACLX,EAAWY,KAAKC,IAAInB,EAAOC,GAC3BM,EAAMP,EACNS,EAAM,EAENQ,EADJhB,EAAKD,EAEL,SAASU,IAGL,QADAD,EACS,KACLQ,EAAK,KACLX,EAAW,KACXC,EAAM,KACNE,EAAM,UACNb,QAAQC,IAAI,QAIboB,GAAMV,GAAON,GACZC,EAAGW,MAAMH,UAAT,cAAAI,OAAmCb,EAAnC,4BACAE,MAEKc,IACLV,GAAkB,GAAXD,EACPJ,EAAGW,MAAMH,UAAT,cAAAI,OAAmCP,EAAnC,yBAGAU,GAAMV,GAAON,GACbC,EAAGW,MAAMH,UAAT,cAAAI,OAAmCb,EAAnC,4BACAE,MAEMc,IACNV,GAAkB,GAAXD,EACPJ,EAAGW,MAAMH,UAAT,cAAAI,OAAmCP,EAAnC,6BAEJI,OAAOI,sBAAsBL,KAEjCA,IAUEU,EAAgB,SAACC,EAAEC,EAASC,EAAOC,GACrC,IAAItB,EAAKoB,EACLG,EAAQJ,EAAIG,EAAe,EAE/BtB,EAAGW,MAAMH,UAAT,eAAAI,OAAoCO,EAApC,uBACAnB,EAAGW,MAAMa,OAASF,EAAeH,EAAI,KAErC,IAAI,IAAIM,EAAI,EAAEA,EAAIJ,EAAOK,OAAOD,IAC5BJ,EAAOI,GAAGd,MAAMH,UAAhB,SAAAI,OAAqCW,EAArC,+BChFFI,EAAgB,WAClB,IAAIC,EAAWnD,EAAMmD,SAGjBC,EAAS,8EAFFpD,EAAMmB,WAAWZ,KAI5B,OAAO8C,IAAMC,IAAIF,GACZG,KAAK,SAACC,GACH,IAAIjD,EAAOiD,EAAIC,KAAKlD,KAChBE,EAAa+C,EAAIC,KAEjB9C,EADU6C,EAAIC,KAAKC,QACEC,IAAI,SAAAC,GACzB,OAAOA,EAAIC,KAGfV,EAAS,CACL/C,KAAM,WACNG,KAAMA,IAGV4C,EAAS,CACL/C,KAAM,iBACNK,WAAYT,EAAMmB,WAAWV,WAAW0B,OAAO1B,KAGnD0C,EAAS,CACL/C,KAAM,iBACNO,WAAYX,EAAMmB,WAAWR,WAAWwB,OAAOxB,yBCjDhDmD,EArBS,WAapB,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMhC,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQqB,OAAQ,WAAYC,SAAU,YACvFC,QAbR,WACI,IAAIC,EAAUC,SAASC,uBAAuB,aAAa,GACvDC,EAAWC,OAAO3C,OAAO4C,iBAAiBL,EAAS,MAAMxC,UAAU8C,MAAM,KAAK,IAC9EC,EAAWN,SAASC,uBAAuB,OAAO,GAAGM,YACxC,IAAbL,EACAtD,EAAQ,GAAI0D,EAAUP,GACfG,KAAcI,GACrB1D,GAAS0D,EAAU,EAAGP,KAOtBR,EAAAC,EAAAC,cAAA,OAAKe,IAAKC,IAAK/C,MAAO,CAAEiC,MAAO,OAAQC,OAAQ,OAASc,IAAI,UCNzDC,SAVM,SAACC,GAElB,OACIrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBhC,MAAO,CAACiC,MAAMK,SAASa,gBAAgBN,cACxEhB,EAAAC,EAAAC,cAACqB,EAAD,MACAvB,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAACqD,MAAM,UAApB,+BCuBGC,EAtBK,SAACJ,GAYjB,OACIrB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAMnE,GAAI8D,EAAM9D,GAAIgD,QAXxB,WAEI,IAAIoB,EAAUN,EAAMM,QAChBC,EAAehB,OAAO3C,OAAO4C,iBAAiBc,GAAS3D,UAAU8C,MAAM,KAAK,IAC5Ee,GAAepB,SAASa,gBAAgBN,YAAc,EAAKY,EAC3DE,EAAST,EAAMS,OACfC,GAAatB,SAASa,gBAAgBN,YAC1C3D,EAAQuE,EAAaC,EAAWF,GAChCtE,EAAQ,EAAE0E,EAAUD,KAKZT,EAAMW,mBCFPC,8LAjBPC,KAAKC,OAAS,IAAIC,IAAQF,KAAKG,KAAKF,OAAOD,KAAKb,MAAMiB,SACnDJ,KAAKb,MAAMkB,WAAWL,KAAKb,MAAMkB,UAAUL,KAAKC,qDAGnDD,KAAKC,OAAOK,2CAGZ,OACIxC,EAAAC,EAAAC,cAAA,OAAKuC,IAAI,SAAStC,UAAW+B,KAAKb,MAAMlB,UAAWhC,MAAO+D,KAAKb,MAAMlD,OAE7D+D,KAAKb,MAAMW,iBAZVU,IAAMC,WC0CZC,SAzCO,SAACvB,GACnB,IAAI3B,EAAO2B,EAAMwB,YAEX1E,EAAQ,CACViC,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQ,SASZ,OACIgB,EAAAC,EAAAC,cAAA,OAAK/B,MAAOA,GACR6B,EAAAC,EAAAC,cAAC4C,EAAD,CAAQ3C,UAAU,iBAAiBhC,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAO+D,SAAS,UAAYT,QATnF,CACZU,SAAS,EACTC,UAAW,IACXC,OAAQ,CACJC,MAAM,KAMFnD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,uBAENT,EACIA,EAAKE,IAAI,SAACC,EAAKuD,GACX,OACIpD,EAAAC,EAAAC,cAAA,MAAIC,UAAWN,EAAIC,GAAIuD,YAAWD,EAAOjF,MAAO,CAAEiC,MAAOK,SAASa,gBAAgBN,aAAcsC,IAAKF,GACjGpD,EAAAC,EAAAC,cAACqD,EAAD,CAAahG,GAAE,8BAAAa,OAAgCyB,EAAIC,IAAM6B,QAASlB,SAAS+C,cAAc,cAAe1B,OAAQrB,SAAS+C,cAAc,UACvIxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQhC,MAAO,IAC1B6B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAac,IAAKpB,EAAI4D,MAAOtC,IAAKtB,EAAI6D,UAAWvF,MAAO,CAACkC,OAAO,UAEnFL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,SAAIL,EAAI8D,YAKnB,UCRlBC,SAzBK,SAACvC,GACjB,IAAI3B,EAAO2B,EAAM1B,QACjB,OACIK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAENT,EACIA,EAAKE,IAAI,SAAAC,GACL,OACIG,EAAAC,EAAAC,cAAA,MAAIC,UAAWN,EAAIC,GAAIuD,YAAWxD,EAAIC,GAAIwD,IAAKzD,EAAIC,IAC/CE,EAAAC,EAAAC,cAACqD,EAAD,CAAahG,GAAE,0BAAAa,OAA4ByB,EAAIC,IAAM6B,QAASlB,SAAS+C,cAAc,cAAe1B,OAAQrB,SAAS+C,cAAc,UAC/HxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,YAAOL,EAAI8D,QAEf3D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAKpB,EAAIgE,OAAQ1C,IAAKtB,EAAI6D,UAAWvF,MAAO,CAACkC,OAAO,cAKxE,QCZVyD,EATQ,SAACzC,GACpB,OACIrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAC6D,EAAgB1C,KCmBd2C,cAnBX,SAAAA,EAAY3C,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAA8B,IACfC,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAA0H,GAAAK,KAAAnC,KAAMb,KACDlF,MAAQ,CACT0G,YAAaoB,EAAK5C,MAAM5E,QAAQoG,YAChClD,QAASsE,EAAK5C,MAAM5E,QAAQkD,SAJjBsE,wEASf,OACIjE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAACoE,EAAD,CAAkBzB,YAAaX,KAAK/F,MAAM0G,cAC1C7C,EAAAC,EAAAC,cAACqE,EAAD,CAAgB5E,QAASuC,KAAK/F,MAAMwD,kBAb3B+C,IAAMC,WCUzB6B,EAAa,SAACC,GAGhB,IAFA,IAAIC,EAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,EAAU,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBAChD1F,EAAI,EAAGA,EAAIyF,EAASxF,OAAQD,IACjC,GAAIyF,EAASzF,KAAOwF,EAChB,OAAOE,EAAQ1F,IAKZ2F,EApBK,SAACpI,GACjB,IAAIqI,EAAOrI,EAAKsI,MAAM,EAAG,GACrBC,EAAQvI,EAAKsI,MAAM,EAAG,GACtBE,EAAMxI,EAAKsI,MAAM,EAAG,GACpBG,EAAW,IAAIC,KAAKL,EAAME,EAAOC,GAAKG,WAAWL,MAAM,EAAG,GAG9D,OADWC,EAAQ,SAAMC,EAAM,UADpBR,EAAWS,ICLpBG,cACF,SAAAA,EAAY/D,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAkD,IACfnB,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAA8I,GAAAf,KAAAnC,KAAMb,KACDlF,MAAQ,GACb8H,EAAKlH,UAAY,GAHFkH,8EAUf,MADU,CAFA/B,KAAKG,KAAKgD,YAAYC,UACrBV,EAAY1C,KAAKb,MAAM7E,mDAKlC0F,KAAKb,MAAMkE,eAAerD,KAAKsD,iDAG/B,OACIxF,EAAAC,EAAAC,cAAA,OAAKuC,IAAI,cAActC,UAAU,qBAAqBhC,MAAO,CAAEsH,WAAY,qBACvEzF,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEqD,MAAO,UAAYoD,EAAY1C,KAAKb,MAAM7E,eAnBxCkG,IAAMC,WAuCxByC,EAFfA,EAAqBM,YAAQ,KAXH,SAACtG,GACvB,MAAO,CACHmG,eAAgB,SAACI,GACbvG,EAAS,CACL/C,KAAM,gBACNU,UAAW4I,OAMND,CAAiCN,GC/BvCQ,EARW,SAACvE,GACvB,OACIrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAC6D,EAAgB1C,KCqBdwE,mLApBP,OACI7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAEP+B,KAAKb,MAAM3E,WAAWkD,IAAI,SAACC,EAAKuD,GAC5B,OACIpD,EAAAC,EAAAC,cAAA,OAAKC,UAAS,kBAAA/B,OAAoBgF,GAASE,IAAKF,GAC5CpD,EAAAC,EAAAC,cAAC4F,EAAD,CAAoBtJ,KAAMqD,EAAIrD,OAC9BwD,EAAAC,EAAAC,cAAC6F,EAAD,CAAmBpG,QAASE,EAAIF,qBATpC+C,IAAMC,4BCkBnBqD,EAnBC,WACZ,IAAM7H,EAAQ,CACViC,MAAMK,SAASa,gBAAgBN,YAC/BhC,OAAOyB,SAASa,gBAAgB2E,aAChCC,QAAQ,OACRC,eAAgB,SAChBC,WAAY,UAMhB,OACIpG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUhC,MAAOA,GAC5B6B,EAAAC,EAAAC,cAAA,OAAKe,IAAKoF,IAASlI,MANV,CACbiC,MAAM,OACNkG,WAAY,QAI4BnF,IAAI,cCP9CoF,cACF,SAAAA,IAAc,IAAAtC,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAqE,IACVtC,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAiK,GAAAlC,KAAAnC,QACKC,OAAS,KACd8B,EAAKuC,QAAU,KACfvC,EAAKwC,IAAM,KACXxC,EAAKrF,SAAW,KAChBqF,EAAKyC,MAAQ,KACbzC,EAAK0C,aAAe,KACpB1C,EAAKlH,UAAY,KACjBkH,EAAK2C,aAAc,EATT3C,yEAWJpE,GAAK,IAAAgH,EAAA3E,KACXA,KAAKC,OAAStC,EACdqC,KAAKsE,QAAU/F,SAAS+C,cAAc,kBACtCtB,KAAK4E,OAASrG,SAAS+C,cAAc,uBACrCtB,KAAKtD,SAAW6B,SAAS+C,cAAc,mBACvCtB,KAAKrD,OAAS4B,SAASsG,iBAAiB,+BACxC7E,KAAKyE,aAAezE,KAAKtD,SAASqH,aAClC/D,KAAKnF,UAAYmF,KAAKb,MAAMtE,UAC5BmF,KAAKC,OAAO6E,GAAG,WAAY,SAACC,GACxBJ,EAAKK,aAAaD,GAClBJ,EAAKM,WAAWF,KAEpB/E,KAAKC,OAAO6E,GAAG,cAAc,SAACC,GAC1B/J,QAAQC,IAAI8J,KAEhB/E,KAAKC,OAAO6E,GAAG,aAAa,SAACC,GACzB/J,QAAQC,IAAI8J,wCAITA,GAAI,IAAAG,EAAAlF,KACPmF,EAAgBnF,KAAKC,OAAOmF,KAAKC,UAAYrF,KAAKC,OAAOmF,KAAKE,KAMlE,GAJIP,EAAGtI,GAAK,Gf+FC,SAACA,EAAG5B,EAAWyJ,EAAQC,EAAKjF,EAAOmF,GACpD,IAAInJ,EAAKgJ,EACLiB,EAAIhB,EACJd,EAAM5I,EACN2K,EAAM/B,EAAIzG,OACVF,EAAS2H,EACTgB,EAAMnG,EAEN7C,GAAK,EACLnB,EAAGW,MAAMyJ,gBAAT,QAAAxJ,OAAmCuJ,EAAnC,OACOhJ,IAAMK,GAAUL,GAAKK,EAAU,GACtCxB,EAAGW,MAAMyJ,gBAAT,QAAAxJ,OAAmCuJ,EAAnC,OACOhJ,GAAK,GAAKA,IAAMK,IACvBxB,EAAGW,MAAMyJ,gBAAT,QAAAxJ,OAAmCuJ,EAAnC,MAAAvJ,OAA2CO,GAAKK,EAAhD,MAGJ2G,EAAIkC,QAAQ,SAAChI,EAAIuD,EAAMuC,GACnB,IAAImC,EAAU,KACVC,EAAKvJ,KAAKC,IAAIE,GAER,IAAP+I,IAASI,EAAUnC,EAAIvC,EAAQ,IAC9B0E,IAEDC,EAAKpC,EAAI,GAAG,GACX8B,EAAEO,UAAY,2BAGV5E,IAAUsE,EAAM,GAAKK,EAAKD,EAAQ,IAAMC,EAAKlI,EAAI,GACrD4H,EAAEO,UAAYF,EAAQ,GAEjBC,EAAKD,EAAQ,IAAMC,EAAKlI,EAAI,KACjC4H,EAAEO,UAAYF,EAAQ,Oe7HtBG,CAAahB,EAAGtI,EAAGuD,KAAKnF,UAAWmF,KAAKsE,QAAStE,KAAK4E,OAAQ,YAAa5E,KAAKyE,cAGhFM,EAAGtI,EAAqB,IAAhB0I,EAAqB,CAC7B,GAAInF,KAAK0E,YAAa,OACtB1E,KAAK0E,aAAc,EACnBzH,IACKK,KAAKL,GACLK,KAAK,WAAQ4H,EAAKR,aAAc,0CAGhCK,GAELA,EAAGtI,EAAI,GACPD,EAAcuI,EAAGtI,EAAGuD,KAAKtD,SAAUsD,KAAKrD,OAAQqD,KAAKyE,2DdzD9C,WAEf,IACIvH,EAAWnD,EAAMmD,SACdE,IAAMC,IAFF,8EAGNC,KAAK,SAACC,GACH,IAAIjD,EAAOiD,EAAIC,KAAKlD,KAChBC,EAAUgD,EAAIC,KACdmD,EAAcpG,EAAQoG,YACtBlD,EAAUlD,EAAQkD,QAClBhD,EAAiB,GACjBC,EAAa,GACjBiG,EAAYgF,QAAQ,SAAAhI,GAChB,OAAOlD,EAAeK,KAAK6C,EAAIC,MAEnCH,EAAQkI,QAAQ,SAAAhI,GACZ,OAAOjD,EAAWI,KAAK6C,EAAIC,MAG/BV,EAAS,CACL/C,KAAM,WACNG,KAAMA,IAGV4C,EAAS,CACL/C,KAAM,cACNI,QAASA,IAGb2C,EAAS,CACL/C,KAAM,qBACNM,eAAgBV,EAAMmB,WAAWT,eAAeyB,OAAOzB,KAG3DyC,EAAS,CACL/C,KAAM,iBACNO,WAAYX,EAAMmB,WAAWR,WAAWwB,OAAOxB,OAGtD4C,KAAK,WACFL,McsBJ+I,oCAGA,IAAM/J,EAAQ,CACViC,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjClD,SAAU,UAEd,OACI/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUhC,MAAO,CAAEkC,OAAQ,QAElC6B,KAAKb,MAAM5E,SAAWyF,KAAKb,MAAM3E,WAAWwC,OACxCc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkI,SAAA,KACInI,EAAAC,EAAAC,cAACkI,EAAD,MACApI,EAAAC,EAAAC,cAAC4C,EAAD,CAAQ3C,UAAU,SAAShC,MAAOA,EAC9BmE,QAAS,CAAEU,SAAS,EAAOqF,WAAW,EAAMpF,UAAU,IAAIqF,SAAU,CAAC,IAAK,OAC1E/F,UAAWL,KAAKK,UAAUgG,KAAKrG,OAC/BlC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACsI,EAAD,CAAY/L,QAASyF,KAAKb,MAAM5E,UAChCuD,EAAAC,EAAAC,cAACuI,EAAD,CAAe/L,WAAYwF,KAAKb,MAAM3E,gBAG5CsD,EAAAC,EAAAC,cAACwI,EAAD,cA7ERhG,IAAMC,WA8Fb4D,EAFfA,EAAUb,YARc,SAACvJ,GACrB,MAAO,CACHK,KAAML,EAAMK,KACZC,QAASN,EAAMM,QACfC,WAAYP,EAAMO,WAClBK,UAAWZ,EAAMY,YAGf2I,CAAyBa,oBCtFpBoC,EAbC,WACZ,OACI3I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWhC,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAOkH,QAAQ,OAAO7F,OAAO,aAC/EL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQhC,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAO4J,aAAa,MAAM7F,SAAS,SAAS1C,OAAO,YAAYoF,WAAW,YACzHzF,EAAAC,EAAAC,cAAA,OAAKe,IAAK4H,IAAM1H,IAAI,2BAAOhD,MAAO,CAACiC,MAAO,WAE9CJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,KAAG/B,MAAO,CAACqD,MAAM,YAAjB,+ECeDsH,GApBG,WACd,IAAMC,EAAO,CAAC,CAAC,UAAUC,IAAG,gBAAM,CAAC,OAAOC,IAAG,gBAAM,CAAC,SAASC,KAAG,iBAChE,OACIlJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShC,MAAO,CAACiC,MAAM,OAAO+I,UAAU,OAAOjD,QAAQ,SAE9D6C,EAAKnJ,IAAI,SAACC,EAAIuD,GACV,OACIpD,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAI,GAAI1B,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAOoK,UAAU,SAASC,YAAY,QAAS/F,IAAKF,GACpGpD,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAOqB,OAAO,cAC3CL,EAAAC,EAAAC,cAAA,OAAKe,IAAKpB,EAAI,GAAIsB,IAAKtB,EAAI,GAAK1B,MAAO,CAACiC,MAAM,WAElDJ,EAAAC,EAAAC,cAAA,KAAG/B,MAAO,CAACqD,MAAM,UAAUnB,OAAO,QAASR,EAAI,6BCM5DyJ,GApBC,WACZ,IAAMP,EAAO,CAAC,CAAC,OAAQQ,KAAI,iBAC3B,OACIvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAEP4I,EAAKnJ,IAAI,SAACC,EAAKuD,GACX,OACIpD,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAI,GAAIyD,IAAKF,EAAOjF,MAAO,CAAE+H,QAAS,OAAQ9F,MAAO,OAAQpB,OAAQ,OAAQyG,WAAY,YACrGzF,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAOqB,OAAO,cAC3CL,EAAAC,EAAAC,cAAA,OAAKe,IAAKpB,EAAI,GAAIsB,IAAKtB,EAAI,GAAI1B,MAAO,CAACiC,MAAM,WAEjDJ,EAAAC,EAAAC,cAAA,KAAG/B,MAAO,CAAEqD,MAAO,SAAW3B,EAAI,SCU/C2J,oLAfP,IAAMrL,EAAQ,CACViC,MAA8C,GAAvCK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjCR,WAAY,WAEhB,OACIzF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMhC,MAAOA,GACxB6B,EAAAC,EAAAC,cAACuJ,EAAD,MACAzJ,EAAAC,EAAAC,cAACwJ,GAAD,MACA1J,EAAAC,EAAAC,cAACyJ,GAAD,cAXEjH,IAAMC,WCuDTiH,eAvDX,SAAAA,IAAc,IAAA3F,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAA0H,IACV3F,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAsN,GAAAvF,KAAAnC,QACK2H,UAAY,KACjB5F,EAAKlD,SAAW,KAHNkD,4EAMDgD,GACT,IAAI6C,EAAO5H,KACP1E,EAAKyJ,EAAG8C,cACRC,EAAK/C,EAAGgD,QAAQ,GAAGC,QACnBC,EAAevJ,OAAO3C,OAAO4C,iBAAiBrD,GAAIQ,UAAU8C,MAAM,KAAK,IACvEjD,EAAMsM,EACV3M,EAAG4M,YAAc,SAAUnD,GACvB,IAAIoD,EAAKpD,EAAGgD,QAAQ,GAAGC,SAEvBrM,EAAMsM,GADGE,EAAKL,KAEHF,EAAK/I,UACZlD,GAAOiM,EAAK/I,SACZvD,EAAGW,MAAMH,UAAT,cAAAI,QAAoC0L,EAAK/I,SAAzC,wBACOlD,EAAM,GACbA,EAAM,EACNL,EAAGW,MAAMH,UAAT,cAAAI,OAAmC,EAAnC,wBAEAZ,EAAGW,MAAMH,UAAT,cAAAI,OAAmCP,EAAnC,wBAIRL,EAAG8M,WAAa,WACZ,IAAIC,GAAQT,EAAK/I,SAAW,EACxBlD,EAAM0M,EACNlN,EAAQgH,KAAKyF,EAAMjM,EAAK,EAAGL,GACpBK,EAAM0M,GACblN,EAAQgH,KAAKyF,EAAMjM,GAAMiM,EAAK/I,SAAUvD,GAE5CA,EAAG4M,YAAc,KACjB5M,EAAG8M,WAAa,kDAIpBpI,KAAK2H,UAAYpJ,SAAS+C,cAAc,cACxCtB,KAAKnB,SAAWN,SAAS+C,cAAc,QAAQxC,YAC/CkB,KAAK2H,UAAU1L,MAAMH,UAArB,eAAAI,OAAgD8D,KAAKnB,SAArD,wCAIA,OACIf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYhC,MAAO,CAAE+H,QAAS,OAAQsE,MAAO,QAAUC,aAAcvI,KAAKuI,aAAalC,KAAKrG,OACvGlC,EAAAC,EAAAC,cAACwK,GAAD,MACA1K,EAAAC,EAAAC,cAACyK,EAAD,cAjDIjI,IAAMC,+BCuFXiI,sBArFX,SAAAA,IAAc,IAAA3G,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAA0I,IACV3G,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAsO,GAAAvG,KAAAnC,QACK/F,MAAQ,CACTU,SAAU,MAEdoH,EAAK9B,OAAS,KACd8B,EAAK4G,OAAS,KANJ5G,4EAUV,IAAI6G,EAAM5I,KAAK/F,MAAMU,SAASiO,IAC9B5I,KAAK6I,KAAOtK,SAASP,cAAc,QACnCgC,KAAK6I,KAAKC,aAAa,MAAO,cAC9B9I,KAAK6I,KAAKC,aAAa,OAAQ,YAC/B9I,KAAK6I,KAAKC,aAAa,OAAQF,GAC/BrK,SAAS+C,cAAc,QAAQyH,YAAY/I,KAAK6I,2CAG3C7I,KAAK6I,MACVtK,SAAS+C,cAAc,QAAQ0H,YAAYhJ,KAAK6I,0CAOhD,IAHA,IAAIjB,EAAO5H,KAEPiJ,EAAO1K,SAASsG,iBAAiB,iBAC5B9H,EAAI,EAAGA,EAAIkM,EAAKjM,OAAQD,IAC7BkM,EAAKlM,GAAGd,MAAM4E,SAAW,UAGpBb,KAAKG,KAAK+I,QAAQ5H,cAAc,qBACtC6H,UAAH,uDAAAjN,OAEmB8D,KAAK/F,MAAMU,SAAS4G,MAFvC,SAAArF,OAEoD8D,KAAK/F,MAAMU,SAAS6G,UAFxE,0BAMA,IADA,IAAIgD,EAAQjG,SAASsG,iBAAiB,kBAC7B9H,EAAI,EAAGA,EAAIyH,EAAMxH,OAAQD,IAC9ByH,EAAMzH,GAAGqM,OAAS,WACdxB,EAAK3H,OAAOK,8CAMpB,IAAI5D,EAAWsD,KAAKG,KAAK+I,QAAQ5H,cAAc,gBAC3CkD,EAAQ9H,EAAS4E,cAAc,OAEnCtB,KAAKC,OAAO6E,GAAG,WAAY,SAACC,GAEpBA,EAAGtI,EAAI,GACPD,EAAcuI,EAAGtI,EAAGC,EAAU8H,EAAO,mDAI7B,IAAAG,EAAA3E,KACW,IAAvBA,KAAKb,MAAMkK,SpBeH,SAACzL,EAAI0L,GAErB,IAAIC,EAAO,4EAA8E3L,EACrFjD,EAAWZ,EAAMmB,WAAWP,SAC5BuC,EAAWnD,EAAMmD,SACrB,IAAIvC,EAASiD,GAGT,OAAOR,IAAMC,IAAIkM,GACZjM,KAAK,SAACC,GACHL,EAAS,CACL/C,KAAM,gBACNQ,SAAUP,OAAOC,OAAOM,EAAdP,OAAAoP,EAAA,EAAApP,CAAA,GAA2BwD,EAAKL,MAE9C+L,EAAG/L,KARX+L,EAAG3O,EAASiD,IoBpBZ6L,CAAYzJ,KAAKb,MAAMkK,QAAS,SAAC9L,GAC7B,IAAIC,EAAOD,EAAIC,KACfmH,EAAK+E,SAAS,CACV/O,SAAU6C,GACX,WACCmH,EAAKgF,aACLhF,EAAKiF,YACLjF,EAAKkF,iEAISC,GAClB9J,KAAKb,MAAMc,SAAW6J,EAAU7J,SACpCD,KAAKC,OAAS6J,EAAU7J,uDAGxBD,KAAK+J,8CAGL,OACI/J,KAAK/F,MAAMU,SACPmD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBsC,IAAI,UAAUyJ,wBAAyB,CAAEC,OAAQjK,KAAK/F,MAAMU,SAASuP,QACtGpM,EAAAC,EAAAC,cAACwI,EAAD,aAhFYhG,IAAMC,4FCK9B0J,uBACF,SAAAA,EAAYhL,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAmK,IACfpI,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAA+P,GAAAhI,KAAAnC,KAAMb,KACDlF,MAAQ,CACT4B,IAAK,GAHMkG,gFAMF,IAAA4C,EAAA3E,KACTpC,EAAKoC,KAAKb,MAAMkK,QACT,IAAPzL,GrB6EW,SAACA,EAAI0L,GAGxB,IAAIc,EAAgB,qFAAuFxM,EACvGyM,EAAiB,sFAAwFzM,EACzGhD,EAAcb,EAAMmB,WAAWN,YAC/BsC,EAAWnD,EAAMmD,SAErB,IAAItC,EAAYgD,GAGZ,OAAOR,IAAMkN,IAAI,CAAClN,IAAMC,IAAI+M,GAAgBhN,IAAMC,IAAIgN,KACjD/M,KAAKF,IAAMmN,OAAO,SAACC,EAAMC,GACtBvN,EAAS,CACL/C,KAAM,kBACNS,YAAaR,OAAOC,OAAOO,EAAdR,OAAAoP,EAAA,EAAApP,CAAA,GACRwD,EAAK,CACF8M,YAAaF,EAAKhN,KAClBmN,aAAcF,EAAMjN,UAIhC8L,EAAG,CACCoB,YAAaF,EAAKhN,KAClBmN,aAAcF,EAAMjN,UAfhC8L,EAAG1O,EAAYgD,IqBrFfgN,CAAehN,EAAI,SAACL,GAChB,IAAIiI,EAAMjI,EAAImN,YAAYG,SAAS7N,OAASO,EAAIoN,aAAaE,SAAS7N,OACtE2H,EAAK+E,SAAS,CACV7N,IAAK2J,0CAILT,GACRA,EAAG+F,kBACH,IAAIC,EAAS/K,KAAKb,MAAM6L,QAAQD,OAC5BE,EAAY1M,SAAS+C,cAAc,cACnC4J,EAAS3M,SAAS+C,cAAc,SAChC2G,EAAevJ,OAAO3C,OAAO4C,iBAAiBsM,GAAWnP,UAAU8C,MAAM,KAAK,IAC9EuM,EAAYzM,OAAO3C,OAAO4C,iBAAiBuM,GAAQpP,UAAU8C,MAAM,KAAK,IAC5E,IAAIwM,QAAQ,SAAC7N,GACTpC,EAAQ8M,GAAe,IAAKgD,EAAW1N,GACvCpC,EAAQgQ,EAAW,EAAGD,EAAQ3N,KAC/BD,KAAK,WACJyN,0CAKIhG,GACRA,EAAG+F,kBACE9K,KAAKb,MAAMkM,SAChBrL,KAAKb,MAAMmM,mBAAmBtL,KAAKb,MAAMkM,QACzCrQ,QAAQC,IAAI,oDAGZ+E,KAAK4K,kDAGL,OACI9M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAKwM,KAAOtM,IAAI,aAAaZ,QAAS2B,KAAKwL,YAAYnF,KAAKrG,UAGzElC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAKwM,KAAOtM,IAAI,aAAaZ,QAAS2B,KAAKyL,YAAYpF,KAAKrG,UAGzElC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAK2M,KAAMzM,IAAI,WAG5BnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAK4M,KAAO1M,IAAI,YAG7BnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAehC,MAAO,CAAEmC,SAAU,aAC7CN,EAAAC,EAAAC,cAACqD,EAAD,CAAahG,GAAE,iBAAAa,OAAmB8D,KAAKb,MAAMkK,SAAW5J,QAASlB,SAAS+C,cAAc,SAAU1B,OAAQrB,SAAS+C,cAAc,aAC7HxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAK6M,KAAS3M,IAAI,aAE3BnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACXH,EAAAC,EAAAC,cAAA,YAAOgC,KAAK/F,MAAM4B,gBAvEhB2E,IAAMC,YAiFrB0J,GADfA,GAAkB0B,YAAW1B,wBC/Dd2B,GA1BK,SAAC3M,GACjB,IAAMlD,EAAQ,CACViC,MAAO,OACPpB,OAAQ,OACRiP,WAAY,sBACZjQ,UAAWqD,EAAM6M,OAAS,iBAAmB,gBAEjD,OACIlO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBhC,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQsB,SAAU,WAAY6N,IAAK,MAAOhF,UAAW,QAASjD,QAAS,OAAQC,eAAgB,WAEtJ9E,EAAM+M,OACFpO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBhC,MAAOA,GACtC6B,EAAAC,EAAAC,cAAA,OAAKe,IAAK1C,KAAI4C,IAAI,SAAShD,MAAO,CAAEiC,MAAO,WACtC,KAGjBJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEqD,MAAO,SAClBH,EAAM+M,OACF,6CAAY,2CCQrBC,GA3BK,SAAChN,GACjB,IAAMlD,EAAQ,CACViC,MAAO,OACPpB,OAAQ,OACRiP,WAAY,sBACZjQ,UAAWqD,EAAM6M,OAAS,iBAAmB,gBAEjD,OACIlO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBhC,MAAO,CAAEmC,SAAU,WAAYF,MAAO,OAAQpB,OAAQ,OAAQsP,aAAc,QAASpI,QAAS,OAAQC,eAAgB,WAEhJ9E,EAAMkM,OACFvN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBhC,MAAOA,GACtC6B,EAAAC,EAAAC,cAAA,OAAKe,IAAK1C,KAAI4C,IAAI,SAAShD,MAAO,CAAEiC,MAAO,WACtC,KAEjBJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEqD,MAAO,SAEdH,EAAMkM,OACF,6CAAY,iDCgGzBgB,eA3GX,SAAAA,EAAYlN,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAqM,IACftK,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAiS,GAAAlK,KAAAnC,KAAMb,KACDlF,MAAQ,CACTgG,OAAQ,KACR+L,QAAQ,GAJGjK,yEAOTpE,GAAK,IAAAgH,EAAA3E,KACXA,KAAK0J,SAAS,CACVzJ,OAAQtC,GACT,WACCgH,EAAKkF,0DAIQ,IAAA3E,EAAAlF,KAEbsM,EAAc/N,SAAS+C,cAAc,iBACzC,IAAI8J,QAAQ,SAAC7N,GACTnB,GAAUmC,SAASa,gBAAgB2E,aAAc,EAAGuI,EAAa/O,KAClED,KAAK,WACJ4H,EAAK/F,MAAMoN,eAAerH,EAAK/F,MAAM+M,QACrChH,EAAKjL,MAAMgG,OAAOuM,0DAGPnB,GAAQ,IAAAoB,EAAAzM,KACnBsM,EAAc/N,SAAS+C,cAAc,iBACzC,IAAI8J,QAAQ,SAAC7N,GACTnB,GAAUmC,SAASa,gBAAgB2E,aAAuD,GAAxCxF,SAASa,gBAAgB2E,aAAkBuI,EAAa/O,KAC3GD,KAAK,WACJtC,QAAQC,IAAI,YACZwR,EAAKtN,MAAMuN,eAAerB,GAC1BoB,EAAKxS,MAAMgG,OAAOuM,kDAIf,IAAAG,EAAA3M,KAEPA,KAAK/F,MAAMgG,OAAO6E,GAAG,WAAY,SAACC,GAC9B,IAAIM,EAAYsH,EAAK1S,MAAMgG,OAAOmF,KAAKC,UAAYsH,EAAK1S,MAAMgG,OAAOmF,KAAKE,KAEtEP,EAAGtI,EAAI,IAAMsI,EAAGtI,IAAM4I,EAAY,IAClCsH,EAAKjD,SAAS,SAACkD,GACX,IAAyB,IAArBA,EAAUZ,OACd,MAAO,CACHA,QAAQ,KAIhBW,EAAKjD,SAAS,SAACkD,GACX,IAAyB,IAArBA,EAAUZ,OACd,MAAO,CACHA,QAAQ,OAOxBhM,KAAK/F,MAAMgG,OAAO6E,GAAG,aAAc,SAACC,GAChC,IAAIM,EAAYsH,EAAK1S,MAAMgG,OAAOmF,KAAKC,UAAYsH,EAAK1S,MAAMgG,OAAOmF,KAAKE,KAE1EqH,EAAKjD,SAAS,SAACkD,GACX,IAAyB,IAArBA,EAAUZ,OACd,MAAO,CACHA,QAAQ,KAIZjH,EAAGtI,EAAI,IAAMkQ,EAAKxN,MAAM+M,QACxBS,EAAKE,qBAGL9H,EAAGtI,IAAM4I,EAAY,KAAOsH,EAAKxN,MAAMkM,QACvCsB,EAAKrB,mBAAmBqB,EAAKxN,MAAMkM,yDAK3CrL,KAAK/F,MAAMgG,OAAO6M,+CAGlB,IAAM7Q,EAAQ,CACViC,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjC3F,SAAU,WACVyC,SAAU,UAEd,OACI/C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkI,SAAA,KACInI,EAAAC,EAAAC,cAAC4C,EAAD,CAAQ3C,UAAU,mBAAmBhC,MAAOA,EAAOmE,QAAS,CAAE+F,WAAW,EAAMpF,UAAW,IAAKqF,SAAU,CAAC,GAAI,OAAS/F,UAAWL,KAAKK,UAAUgG,KAAKrG,OAClJlC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYsC,IAAI,WAAWtE,MAAO,CAAEiC,MAAO,OAAQE,SAAU,WAAY2O,UAAW,WAC/FjP,EAAAC,EAAAC,cAACgP,GAAD,CAAa3D,QAASrJ,KAAKb,MAAMkK,QAAS4D,aAAcjN,KAAK6J,SAASxD,KAAKrG,MAAOC,OAAQD,KAAK/F,MAAMgG,SACrGnC,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,UACrCgB,EAAAC,EAAAC,cAACkP,GAAD,CAAahB,OAAQlM,KAAKb,MAAM+M,OAAQF,OAAQhM,KAAK/F,MAAM+R,SAC3DlO,EAAAC,EAAAC,cAACmP,GAAD,CAAa9B,OAAQrL,KAAKb,MAAMkM,OAAQW,OAAQhM,KAAK/F,MAAM+R,UAE/DlO,EAAAC,EAAAC,cAACoP,GAAD,CAAiB/D,QAASrJ,KAAKb,MAAMkK,QAASgC,OAAQrL,KAAKb,MAAMkM,OAAQC,mBAAoBtL,KAAKsL,mBAAmBjF,KAAKrG,iBAlGvHQ,IAAMC,WCDvB4M,uBACF,SAAAA,EAAYlO,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAqN,IACftL,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAiT,GAAAlL,KAAAnC,KAAMb,KACDlF,MAAQ,CACTU,SAAU,IAEdoH,EAAKzG,GAAK,KACVyG,EAAKnE,GAAK,KACVmE,EAAK5H,KAAO,KACZ4H,EAAKuL,QAAU,KACfvL,EAAKoC,SAAU,EATApC,wEAcf,IAAIwL,EAAOC,KAAIC,MAAMzN,KAAKb,MAAMuO,SAASC,QAAQ,GACjD3N,KAAKpC,GAAK2P,EAAKK,MAAMhQ,GACrBoC,KAAK7F,KAAOoT,EAAKK,MAAMzT,KACvB6F,KAAKsN,QAAUtN,KAAKb,MAAL,GAAAjD,OAAc8D,KAAK7F,KAAnB,QACF6F,KAAKb,MAAM6L,QAAQ6C,2CAexBjQ,GAAI,IAAA+G,EAAA3E,KACRsN,EAAUtN,KAAKsN,QACfjE,EAAU3K,OAAOd,GACjBkQ,EAAc,GAClBR,EAAQ3H,QAAQ,SAAChI,EAAKuD,EAAO6M,GACzB,GAAI1E,IAAY1L,EAAK,CACjB,IAAIqQ,EAASD,EAAM7M,EAAQ,GACvB+M,EAAQF,EAAM7M,EAAQ,GACtBgN,EAAOH,EAAM7M,GACbiN,EAAQJ,EAAM7M,EAAQ,GAGhB,CAAC,CAAC8M,EAAQC,EAAOC,GAAO,CAACD,EAAOC,EAAMC,GAAQ,CAACD,EAAMC,EAFlDJ,EAAM7M,EAAQ,KAGvByE,QAAQ,SAAAhI,GACR,IAAIyQ,EAAM,GAQNA,EAPCzQ,EAAI,GAOC,CACFuO,OAAQvO,EAAI,GACZ0L,QAAS1L,EAAI,GACb0N,OAAQ1N,EAAI,IATV,CACFuO,OAAQvO,EAAI,GACZ0L,QAAS,EACTgC,OAAQ1N,EAAI,IASpBmQ,EAAYhT,KAAKsT,QAI7BpO,KAAK0J,SAAS,CACV/O,SAAUmT,GACX,WACC9S,QAAQC,IAAI0J,EAAK1K,MAAMU,iDAIlBoK,GAAI,IAAAG,EAAAlF,KAET1E,EAAKyJ,EAAG8C,cACRkD,EAAS/K,KAAKb,MAAM6L,QAAQD,OAC5BE,EAAY1M,SAAS+C,cAAc,cACnC4J,EAAS3M,SAAS+C,cAAc,SAChC2G,EAAevJ,OAAO3C,OAAO4C,iBAAiBsM,GAAWnP,UAAU8C,MAAM,KAAK,IAC9EuM,EAAYzM,OAAO3C,OAAO4C,iBAAiBuM,GAAQpP,UAAU8C,MAAM,KAAK,IACxEkJ,EAAK/C,EAAGgD,QAAQ,GAAGC,QACvB1M,EAAG4M,YAAc,SAACnD,GACd,IACIsJ,EADKtJ,EAAGgD,QAAQ,GAAGC,QACTF,EACVwG,EAAYD,EAAK,EACjBA,EAAK,IACTpD,EAAUhP,MAAMH,UAAhB,cAAAI,OAA0C+L,EAAeqG,EAAzD,uBACApD,EAAOjP,MAAMH,UAAb,cAAAI,OAAuCiP,EAAYkD,EAAnD,yBAEJ/S,EAAG8M,WAAa,WACZlD,EAAKqJ,UAAW,EAChB,IAAIrQ,EAAQK,SAASa,gBAAgBN,YAEjC0P,EAAgB9P,OAAO3C,OAAO4C,iBAAiBsM,GAAWnP,UAAU8C,MAAM,KAAK,IAC/E6P,EAAa/P,OAAO3C,OAAO4C,iBAAiBuM,GAAQpP,UAAU8C,MAAM,KAAK,IAEzE6P,GAAcvQ,EAAQ,GACtB/C,EAAQqT,EAAevG,EAAcgD,GACrC9P,EAAQsT,GAAavQ,EAAOgN,IAErBuD,IAAevQ,EAAQ,GAC9B,IAAIkN,QAAQ,SAAC7N,GACTpC,EAAQqT,GAAgB,IAAKvD,EAAU1N,GACvCpC,EAAQsT,EAAY,EAAGvD,EAAO3N,KAC/BD,KAAK,WACJyN,MAGRzP,EAAG4M,YAAc,KACjB5M,EAAG8M,WAAa,6CAITxK,GACX5C,QAAQC,IAAI,wCAEZ+E,KAAK0O,YAAY9Q,GAEjBoC,KAAK1E,GAAK0E,KAAKG,KAAKmM,YACpB,IAAIxP,EAASyB,SAASa,gBAAgB2E,aACtC/D,KAAK1E,GAAGW,MAAMH,UAAd,cAAAI,QAAyCY,EAAzC,wBAGA6R,EADc3O,KAAKb,MAAM6L,QAAQ2D,SAC1B,SAAAzS,OAAU0B,2CAENA,GACX5C,QAAQC,IAAI,wCAEZ+E,KAAK0O,YAAY9Q,GAEjBoC,KAAK1E,GAAK0E,KAAKG,KAAKmM,YACpB,IAAIxP,EAASyB,SAASa,gBAAgB2E,aACtC/D,KAAK1E,GAAGW,MAAMH,UAAd,cAAAI,QAAyCY,EAAzC,wBAGA6R,EADc3O,KAAKb,MAAM6L,QAAQ2D,SAC1B,SAAAzS,OAAU0B,iDAGjBoC,KAAK4O,SACL5O,KAAK0O,YAAY1O,KAAKpC,qCAEjB,IAAA6O,EAAAzM,KACC/D,EAAQ,CACViC,MAAOK,SAASa,gBAAgBN,YAChChC,OAAgD,EAAxCyB,SAASa,gBAAgB2E,aACjCjI,UAAS,eAAAI,OAAiBqC,SAASa,gBAAgB2E,aAA1C,OACTR,WAAY,SAGhB,OACIzF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAesC,IAAI,cAActE,MAAOA,EAAOsM,aAAcvI,KAAKuI,aAAalC,KAAKrG,OAE3FA,KAAK/F,MAAMU,SAASqC,OAChBgD,KAAK/F,MAAMU,SAAS+C,IAAI,SAAAC,GACpB,OACIG,EAAAC,EAAAC,cAAA,OAAKC,UAAS,qBAAA/B,OAAuByB,EAAI0L,SAAWjI,IAAKzD,EAAI0L,SACzDvL,EAAAC,EAAAC,cAAC6Q,GAAD,CACItC,eAAgBE,EAAKF,eAAelG,KAAKoG,GACzCC,eAAgBD,EAAKC,eAAerG,KAAKoG,GACzCP,OAAQvO,EAAIuO,OACZ7C,QAAS1L,EAAI0L,QACbgC,OAAQ1N,EAAI0N,YAKxB,aAvKT7K,IAAMC,YAsLV4M,GAFfA,GAAO7J,YAPiB,SAACvJ,GACrB,MAAO,CACHQ,eAAgBR,EAAMQ,eACtBC,WAAYT,EAAMS,aAInB8I,CAAyB6J,IC3KjByB,GAhBM,SAAC3P,GAClB,IAAMlD,EAAQ,CACViC,MAAMK,SAASa,gBAAgBN,YAC/BhC,OAAO,OACPyG,WAAW,mBACX2D,UAAU,SACV9C,WAAW,OACX9E,MAAM,SAEV,OACIxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBhC,MAAOA,GAAtC,GAAAC,OACQiD,EAAM4P,WADd,4CC0DOC,GAnEY,SAAC7P,GA8BxB,OACIrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBhC,MAAO,CAAE+H,QAAS,OAAQ9F,MAAOK,SAASa,gBAAgBN,YAAamQ,aAAc,sCACvHnR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShC,MAAO,CAAEiC,MAAO,QACpCJ,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQ4J,aAAc,MAAO7F,SAAU,SAAU1C,OAAQ,cAC1FL,EAAAC,EAAAC,cAAA,OAAKe,IAAKI,EAAM+P,QAAQC,OAAQlQ,IAAI,SAAShD,MAAO,CAAEiC,MAAO,YAGrEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUhC,MAAO,CAAEiC,MAAO,QACrCJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMhC,MAAO,CAAEa,OAAQ,OAAQkH,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,WACxGpG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShC,MAAO,CAAEmT,WAAY,QACzCtR,EAAAC,EAAAC,cAAA,YAAOmB,EAAM+P,QAAQG,SAEzBvR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOhC,MAAO,CAAEkL,YAAa,SACxCrJ,EAAAC,EAAAC,cAAA,OAAKe,IAAK2M,KAAMzM,IAAI,OAAOhD,MAAO,CAAEiC,MAAO,UAC3CJ,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEqD,MAAO,YAEdH,EAAM+P,QAAQI,SAM9BxR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShC,MAAO,CAACkL,YAAY,SACxCrJ,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAACsT,SAAS,SAEnBpQ,EAAM+P,QAAQhG,UAItBpL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAShC,MAAO,CAACiC,MAAM,OAAOpB,OAAO,OAAOsH,WAAW,OAAOmL,SAAS,SAClFzR,EAAAC,EAAAC,cAAA,YA1DhB,WACI,IAAIwR,EAAS,CACTC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,KACNC,IAAM,MAGN3M,EADO,IAAIT,KAAKA,KAAKqN,MAAQ,YAAYpN,WAC9BrE,MAAM,KACjBiE,EAAQY,EAAI,GACZX,EAAMW,EAAI,GACVjI,EAAOiI,EAAI,GACf,IAAK,IAAMrC,KAAOoO,EACd,GAAG3M,IAAUzB,EACT,SAAAlF,OAAUsT,EAAOpO,GAAjB,KAAAlF,OAAyB4G,EAAzB,KAAA5G,OAAgCV,GAoCrB8U,QCnCZC,WAvBS,SAACpR,GACrB,IAAIqR,EAAOrR,EAAMsR,aAAa5F,SAC9B,OACI/M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQmS,aAAc,oCAAqC3P,MAAO,QAAS8E,WAAY,SACxHtG,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEyU,WAAY,OAAQtB,WAAY,QAA/C,GAAAlT,OACQsU,EAAKxT,OADb,wBAIJc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAEPuS,EAAK9S,IAAI,SAACC,GACN,OACIG,EAAAC,EAAAC,cAAC2S,GAAD,CAAoBzB,QAASvR,EAAKyD,IAAKzD,EAAIC,WCgBxDgT,WA7BU,SAACzR,GACtB,IAAI0R,EAAQ1R,EAAM2R,cAAcjG,SAQhC,OACI/M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,OAAK/B,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQmS,aAAc,oCAAqC3P,MAAO,QAAS8E,WAAY,SACxHtG,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEyU,WAAY,OAAQtB,WAAY,QAA/C,GAAAlT,OACQ2U,EAAM7T,OADd,wBAIJc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAEP4S,EAAMnT,IAAI,SAACC,GACP,OACIG,EAAAC,EAAAC,cAAC2S,GAAD,CAAoBzB,QAASvR,EAAKyD,IAAKzD,EAAIC,WCkBxDmT,eApCX,SAAAA,IAAa,IAAAhP,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAA+Q,IACThP,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAA2W,GAAA5O,KAAAnC,QACK/F,MAAQ,CACTgG,OAAQ,MAHH8B,yEAMHpE,GACNqC,KAAK0J,SAAS,CACVzJ,OAAOtC,qCAIX,IAAMqT,EAAc,CAChB9S,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aAAe,GAChDlD,SAAU,UAERoQ,EAAY,CACd/S,MAAOK,SAASa,gBAAgBN,YAChCiO,UAAWxO,SAASa,gBAAgB2E,aAAe,GACnD3F,SAAS,WACT8S,cAAc,OACd3N,WAAW,SAEf,OACIzF,EAAAC,EAAAC,cAAC4C,EAAD,CAAQ3C,UAAU,sBAAsBhC,MAAO+U,EAAa5Q,QAAS,CAACU,SAAS,EAAOC,UAAW,IAAKoF,WAAW,GAAO9F,UAAWL,KAAKK,UAAUgG,KAAKrG,OACnJlC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAehC,MAAOgV,GACjCnT,EAAAC,EAAAC,cAACmT,GAAD,CAAiBV,aAAczQ,KAAKb,MAAMvE,YAAY8P,cACtD5M,EAAAC,EAAAC,cAACoT,GAAD,CAAkBN,cAAe9Q,KAAKb,MAAMvE,YAAY+P,aAAc1K,OAAQD,KAAK/F,MAAMgG,kBA7BnFO,IAAMC,mDCC5B4Q,GAAa,SAAClS,GACdnE,QAAQC,IAAIkE,GAaZ,IAAMlD,EAAQ,CACVmC,SAAU,QACVkT,OAAQ,MACRpT,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQ,OACRyG,WAAY,UACZS,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAEhB,OACIpG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBhC,MAAOA,GACnC6B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBhC,MAAO,CAAEmC,SAAU,WAAY3C,KAAM,OAAQK,UAAW,kBACvFgC,EAAAC,EAAAC,cAAA,OAAKe,IAAKwM,KAAOtM,IAAI,QAAQhD,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,QAAUuB,QAzBnF,WACI,IAAI6M,EAAS3M,SAAS+C,cAAc,SAChC6J,EAAYzM,OAAO3C,OAAO4C,iBAAiBuM,GAAQpP,UAAU8C,MAAM,KAAK,IACxE2S,EAAYhT,SAAS+C,cAAc,YACnCkQ,EAAe9S,OAAO3C,OAAO4C,iBAAiB4S,GAAWzV,UAAU8C,MAAM,KAAK,IAClF,IAAIwM,QAAQ,SAAC7N,GACTpC,EAAQgQ,GAAY5M,SAASa,gBAAgBN,YAAaoM,EAAQ3N,GAClEpC,EAAQqW,EAAc,EAAGD,EAAWhU,KACrCD,KAAK,WACJ6B,EAAM6L,QAAQD,YAgBmF1E,gBAEjGvI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OAAKe,IAAKmQ,KAASjQ,IAAI,UAAUhD,MAAO,CAAEiC,MAAO,OAAQpB,OAAQ,OAAQqK,YAAa,SACtFrJ,EAAAC,EAAAC,cAAA,QAAM/B,MAAO,CAAEqD,MAAO,QAASiQ,SAAU,SAAzC,yBAOD8B,GADfA,GAAaxF,YAAWwF,ICpClBI,eACF,SAAAA,EAAYtS,GAAO,IAAA4C,EAAA,OAAA3H,OAAA4H,EAAA,EAAA5H,CAAA4F,KAAAyR,IACf1P,EAAA3H,OAAA6H,EAAA,EAAA7H,CAAA4F,KAAA5F,OAAA8H,EAAA,EAAA9H,CAAAqX,GAAAtP,KAAAnC,KAAMb,KACDkK,QAAUtH,EAAK5C,MAAMuS,MAAMC,OAAO/T,GACvCmE,EAAKnH,YAAcmH,EAAK5C,MAAMvE,YAAYmH,EAAKsH,SAC/CtH,EAAKgN,WAAahN,EAAKnH,YAAY8P,YAAYG,SAAS7N,OAAS+E,EAAKnH,YAAY+P,aAAaE,SAAS7N,OAJzF+E,4EAMNgD,GACT/J,QAAQC,IAAI,WACZ,IAAI2M,EAAO5H,KACPuR,EAAYhT,SAAS+C,cAAc,YACnC4J,EAAS3M,SAAS+C,cAAc,SAChCkQ,EAAe9S,OAAO3C,OAAO4C,iBAAiB4S,GAAWzV,UAAU8C,MAAM,KAAK,IAC9EuM,EAAYzM,OAAO3C,OAAO4C,iBAAiBuM,GAAQpP,UAAU8C,MAAM,KAAK,IACxEtD,EAAKyJ,EAAG8C,cACRC,EAAK/C,EAAGgD,QAAQ,GAAGC,QACnB4J,EAAS,KACTC,EAAY,KAChBvW,EAAG4M,YAAc,SAAUnD,GACvB,IAAIsJ,EAAKtJ,EAAGgD,QAAQ,GAAGC,QAAUF,EACjC8J,EAASzG,EAAakD,EAAK,GAC3BwD,EAAYL,EAAenD,IACVmD,GACbI,EAASzG,EACT0G,EAAYL,EACZtG,EAAOjP,MAAMH,UAAb,cAAAI,OAAuC0V,EAAvC,OACAL,EAAUtV,MAAMH,UAAhB,cAAAI,OAA0CsV,EAA1C,SACOK,GAAa,GACpBD,EAASzG,EAAa5M,SAASa,gBAAgBN,YAAc,EAC7DoM,EAAOjP,MAAMH,UAAb,cAAAI,OAAuC0V,EAAvC,OACAL,EAAUtV,MAAMH,UAAhB,cAAAI,OAA0C,EAA1C,SAEAgP,EAAOjP,MAAMH,UAAb,cAAAI,OAAuC0V,EAAvC,OACAL,EAAUtV,MAAMH,UAAhB,cAAAI,OAA0C2V,EAA1C,SAGRvW,EAAG8M,WAAa,WACRwJ,GAAWC,IAEXA,GAAatT,SAASa,gBAAgBN,YAAc,GACpD3D,EAAQyW,EAAQzG,EAAWD,GAC3B/P,EAAQ0W,EAAWL,EAAcD,KAEjCvW,QAAQC,IAAI2W,GACZ,IAAIxG,QAAQ,SAAC7N,GACTpC,EAAQyW,GAASrT,SAASa,gBAAgBN,YAAaoM,EAAO3N,GAC9DpC,EAAQ0W,EAAW,EAAGN,EAAUhU,KACjCD,KAAK,WACJsK,EAAKzI,MAAM6L,QAAQD,YAG3BzP,EAAG4M,YAAc,KACjB5M,EAAG8M,WAAa,wCAKpB,IAAMnM,EAAQ,CACViC,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjCR,WAAW,SAEf,OACIzF,EAAAC,EAAAC,cAAA,OAAK/B,MAAOA,EAAOsM,aAAcvI,KAAKuI,aAAalC,KAAKrG,OACpDlC,EAAAC,EAAAC,cAAC8T,GAAD,CAAc/C,WAAY/O,KAAK+O,aAC/BjR,EAAAC,EAAAC,cAAC+T,GAAD,CAAanX,YAAaoF,KAAKpF,cAC/BkD,EAAAC,EAAAC,cAACgU,GAAD,cAlEMxR,IAAMC,WA8EbgR,GADfA,GAAUjO,YANc,SAACvJ,GACrB,MAAO,CACHW,YAAaX,EAAMW,cAIjB4I,CAAyBiO,WC5BpBQ,OA/Cf,WACE,IAAMhW,EAAQ,CACZmC,SAAS,WACTF,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjClD,SAAU,UAENqR,EAAa,CACjBhU,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjClD,SAAU,UAENsR,EAAY,CAChBjU,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjC3F,SAAU,WACV6N,IAAG,IAAA/P,OAAMqC,SAASa,gBAAgB2E,aAA/B,MACHtI,KAAM8C,SAASa,gBAAgBN,aAG3BsT,EAAe,CACnBlU,MAAOK,SAASa,gBAAgBN,YAChChC,OAAQyB,SAASa,gBAAgB2E,aACjC3F,SAAU,WACV6N,IAAI,MACJxQ,KAAK8C,SAASa,gBAAgBN,aAGhC,OACEhB,EAAAC,EAAAC,cAACqU,EAAA,EAAD,CAAUtY,MAAOA,GACf+D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,KACE1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMhC,MAAOA,GAC1B6B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQhC,MAAOiW,GAC5BpU,EAAAC,EAAAC,cAACsU,GAAD,OAEFxU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOhC,MAAOkW,GAC3BrU,EAAAC,EAAAC,cAACuU,EAAA,EAAD,CAAOC,KAAK,QAAQC,UAAWpF,MAEjCvP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUhC,MAAOmW,GAC9BtU,EAAAC,EAAAC,cAACuU,EAAA,EAAD,CAAOC,KAAK,oBAAoBC,UAAWhB,UCrCnCiB,QACW,cAA7B3W,OAAO2R,SAASiF,UAEe,UAA7B5W,OAAO2R,SAASiF,UAEhB5W,OAAO2R,SAASiF,SAASjB,MACvB,2DCZNkB,IAASC,OAAO/U,EAAAC,EAAAC,cAAC8U,GAAD,MAASvU,SAASwU,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5V,KAAK,SAAA6V,GACjCA,EAAaC,mCEnInBC,EAAAC,QAAiBC,EAAAhO,EAAuB,mDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,2ECAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,oDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,iECAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,qDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,6DCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,6DCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,6DCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,6DCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,qDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,sDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,wDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,qDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB,sDCAxC8N,EAAAC,QAAiBC,EAAAhO,EAAuB","file":"static/js/main.de7ba634.chunk.js","sourcesContent":["import { createStore } from 'redux'\r\n\r\nconst state = {\r\n    date: null,\r\n    topData: [],\r\n    beforeData: [],\r\n    top_stories_id: [],\r\n    stories_id: [],\r\n    pageList: {},\r\n    commentList: {},\r\n    titleList: [],\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'GET_DATE':\r\n            return Object.assign({}, state, { date: action.date })\r\n        case 'GET_TOPDATA':\r\n            return Object.assign({}, state, { topData: action.topData })\r\n        case 'GET_BEFOREDATA':\r\n            return Object.assign({}, state, { beforeData: action.beforeData })\r\n        case 'GET_TOP_STORIES_ID':\r\n            return Object.assign({}, state, { top_stories_id: action.top_stories_id })\r\n        case 'GET_STORIES_ID':\r\n            return Object.assign({}, state, { stories_id: action.stories_id })\r\n        case 'GET_PAGELIST':\r\n            return Object.assign({}, state, { pageList: action.pageList })\r\n        case 'GET_COMMENTLIST':\r\n            return Object.assign({}, state, { commentList: action.commentList })\r\n        case 'GET_TITLELIST':\r\n            state.titleList.push(action.titleList)\r\n            return Object.assign({}, state, { titleList: state.titleList })\r\n        default:\r\n            return state\r\n    }\r\n}\r\nconst store = createStore(reducer, state)\r\n\r\nstore.subscribe(() => {\r\n    console.log(store.getState())\r\n})\r\n\r\nexport default store","\r\n/**\r\n * @method 元素的动画滑动，仅限X轴\r\n * @param {Number} from     从\r\n * @param {Number} to       到\r\n * @param {Node}   el       元素\r\n * @param {Number} time     时间\r\n */\r\nconst animate = (from, to, el, promise,time) => {\r\n    let left = null\r\n    let distance = from - to\r\n    let pos = from \r\n    let _time = null\r\n    let num = 0\r\n    from > to ?\r\n        left = true : left = false\r\n    const transform = () => {\r\n        // 防止卡死\r\n        num++\r\n        if (num === 1000) {\r\n            window.cancelAnimationFrame(_time)\r\n            left = null\r\n            distance = null\r\n            pos = null\r\n            _time = null\r\n            num = null\r\n            console.log('MAX')\r\n            return \r\n        }\r\n\r\n        if(pos <= to && left){\r\n            el.style.transform = `translateX(${to}px) translateZ(0px)`\r\n            if(promise) promise()\r\n            \r\n            left = null\r\n            distance = null\r\n            pos = null\r\n            _time = null\r\n            num = null\r\n            return \r\n        }else if (left) {\r\n            pos -= distance * 0.1\r\n            el.style.transform = `translateX(${pos}px) translateZ(0px)`\r\n            window.requestAnimationFrame(transform)\r\n        }\r\n\r\n        if (pos >= to && !left) {\r\n            el.style.transform = `translateX(${to}px) translateZ(0px)`\r\n            if(promise) promise()\r\n            left = null\r\n            distance = null\r\n            pos = null\r\n            _time = null\r\n            num = null\r\n            return\r\n        } else if(!left){\r\n            pos -= distance * 0.1\r\n            el.style.transform = `translateX(${pos}px) translateZ(0px)`\r\n            window.requestAnimationFrame(transform)\r\n        }\r\n\r\n    }\r\n    transform()\r\n}\r\n/**\r\n * @method Y轴方向\r\n * @param {Number} from \r\n * @param {Number} to \r\n * @param {Node} el \r\n * @param {Function} promise \r\n */\r\nconst animateY = (from ,to ,el , promise) =>{\r\n    let up = null\r\n    let distance = Math.abs(from - to)\r\n    let pos = from \r\n    let num = 0\r\n    to > from ?\r\n        up = true : up = false\r\n    function transform(){\r\n        // \r\n        num++\r\n        if(num > 500) {\r\n            up = null\r\n            distance = null\r\n            pos = null\r\n            num = null\r\n            console.log('MAX')\r\n            return \r\n        }\r\n\r\n        if(up && pos >= to){\r\n            el.style.transform = `translateY(${to}px) translateZ(0px)`\r\n            promise()\r\n            return \r\n        }else if(up){\r\n            pos += distance * 0.1\r\n            el.style.transform = `translateY(${pos}px) translateZ(0px)`\r\n        }\r\n\r\n        if(!up && pos <= to){\r\n            el.style.transform = `translateY(${to}px) translateZ(0px)`\r\n            promise()\r\n            return \r\n        }else if(!up){\r\n            pos -= distance * 0.1\r\n            el.style.transform = `translateY(${pos}px) translateZ(0px)`\r\n        }\r\n        window.requestAnimationFrame(transform)\r\n    }\r\n    transform()\r\n}\r\n\r\n/**\r\n * @method 轮播图的动画效果，仅限Y轴\r\n * @param {Number} y \r\n * @param {Node} bannerEl \r\n * @param {Node} imgsEl \r\n * @param {Number} bannerHieght \r\n */\r\nconst bannerAnimate = (y,bannerEl,imgsEl,bannerHieght)=>{\r\n    let el = bannerEl \r\n    let scale = y / bannerHieght + 1\r\n    \r\n    el.style.transform = `translateY(-${y}px) translateZ(0px)`\r\n    el.style.height = bannerHieght + y + 'px'\r\n\r\n    for(let i = 0;i < imgsEl.length;i++){\r\n        imgsEl[i].style.transform = `scale(${scale})`\r\n    }\r\n    \r\n}\r\n\r\n/**\r\n * @method Title的文本变化，仅限Y轴\r\n * @param {Number} y \r\n * @param {Array} titleList \r\n * @param {Node} titleEl \r\n * @param {Node} pEl \r\n * @param {String} color \r\n * @param {Number} bannerHeight \r\n */\r\nconst titleAnimate = (y, titleList, titleEl,pEl, color, bannerHeight) => {\r\n    let el = titleEl\r\n    let p = pEl\r\n    let arr = titleList\r\n    let len = arr.length\r\n    let height = bannerHeight\r\n    let rgb = color\r\n    // title 颜色改变\r\n    if (y >= 0) {\r\n        el.style.backgroundColor = `rgba(${rgb},0)`\r\n    } else if (y <= -height && y > -height + -50) {\r\n        el.style.backgroundColor = `rgba(${rgb},1)`\r\n    } else if (y <= 0 && y >= -height) {\r\n        el.style.backgroundColor = `rgba(${rgb}, ${y / -height})`\r\n    }\r\n    // title text日期变更\r\n    arr.forEach((val,index,arr) => {\r\n        let lastVal = null\r\n        let _y = Math.abs(y)\r\n\r\n        if(len!== 1)lastVal = arr[index - 1] \r\n        if(!lastVal) return  // 防止事件过快 数据传输不及时\r\n        // 首\r\n        if(_y < arr[0][0]){\r\n            p.innerText = '每日新闻'\r\n        // 尾\r\n        }\r\n        else if(index === len - 1 && _y > lastVal[0] && _y < val[0]){\r\n            p.innerText = lastVal[1]\r\n        // 中间\r\n        }else if(_y > lastVal[0] && _y < val[0]) {\r\n            p.innerText = lastVal[1]\r\n        }\r\n    })\r\n}\r\n\r\nexport {animate,animateY,bannerAnimate,titleAnimate}","import store from '../redux/store'\r\nimport Axios from 'axios'\r\n\r\n\r\nconst getTopData = () => {\r\n    // let news = '/news/latest'\r\n    let news = 'https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/latest'\r\n    let dispatch = store.dispatch\r\n    return Axios.get(news)\r\n        .then((res) => {\r\n            let date = res.data.date\r\n            let topData = res.data\r\n            let top_stories = topData.top_stories\r\n            let stories = topData.stories\r\n            let top_stories_id = []\r\n            let stories_id = []\r\n            top_stories.forEach(val => {\r\n                return top_stories_id.push(val.id)\r\n            })\r\n            stories.forEach(val => {\r\n                return stories_id.push(val.id)\r\n            })\r\n            // 时间    date\r\n            dispatch({\r\n                type: 'GET_DATE',\r\n                date: date\r\n            })\r\n            // 今日新闻 top_data\r\n            dispatch({\r\n                type: 'GET_TOPDATA',\r\n                topData: topData\r\n            })\r\n            // id top_stories_id\r\n            dispatch({\r\n                type: 'GET_TOP_STORIES_ID',\r\n                top_stories_id: store.getState().top_stories_id.concat(top_stories_id)\r\n            })\r\n            // id stories_id \r\n            dispatch({\r\n                type: 'GET_STORIES_ID',\r\n                stories_id: store.getState().stories_id.concat(stories_id)\r\n            })\r\n        })\r\n        .then(() => {\r\n            getBeforeData()\r\n        })\r\n}\r\nconst getBeforeData = () => {\r\n    let dispatch = store.dispatch\r\n    let date = store.getState().date\r\n    // let latest = '/news/before/' + date\r\n    let latest = 'https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/before/' + date\r\n    \r\n    return Axios.get(latest)\r\n        .then((res) => {\r\n            let date = res.data.date\r\n            let beforeData = res.data\r\n            let stories = res.data.stories\r\n            let stories_id = stories.map(val => {\r\n                return val.id\r\n            })\r\n            // 时间\r\n            dispatch({\r\n                type: 'GET_DATE',\r\n                date: date\r\n            })\r\n            // 往日新闻\r\n            dispatch({\r\n                type: 'GET_BEFOREDATA',\r\n                beforeData: store.getState().beforeData.concat(beforeData)\r\n            })\r\n            // stories_id\r\n            dispatch({\r\n                type: 'GET_STORIES_ID',\r\n                stories_id: store.getState().stories_id.concat(stories_id)\r\n            })\r\n        })\r\n}\r\n\r\nconst getNewsData = (id, fn) => {\r\n    // let news = '/news/' + id\r\n    let news = 'https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/news/' + id\r\n    let pageList = store.getState().pageList\r\n    let dispatch = store.dispatch\r\n    if (pageList[id]) {\r\n        fn(pageList[id])\r\n    } else {\r\n        return Axios.get(news)\r\n            .then((res) => {\r\n                dispatch({\r\n                    type: 'GET_PAAGELIST',\r\n                    pageList: Object.assign(pageList, { [id]: res })\r\n                })\r\n                fn(res)\r\n            })\r\n    }\r\n}\r\n\r\nconst getCommentData = (id, fn) => {\r\n    // let long_comments = '/story/' + id + '/long-comments'\r\n    // let short_comments = '/story/' + id + '/short-comments'\r\n    let long_comments = 'https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/long-comments/' + id\r\n    let short_comments = 'https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/short-comments/' + id\r\n    let commentList = store.getState().commentList\r\n    let dispatch = store.dispatch\r\n\r\n    if (commentList[id]) {\r\n        fn(commentList[id])\r\n    } else {\r\n        return Axios.all([Axios.get(long_comments), Axios.get(short_comments)])\r\n            .then(Axios.spread((acct, perms) => {\r\n                dispatch({\r\n                    type: 'GET_COMMENTLIST',\r\n                    commentList: Object.assign(commentList, {\r\n                        [id]: {\r\n                            longComment: acct.data,\r\n                            shortComment: perms.data\r\n                        }\r\n                    })\r\n                })\r\n                fn({\r\n                    longComment: acct.data,\r\n                    shortComment: perms.data\r\n                })\r\n            }))\r\n    }\r\n\r\n\r\n}\r\n// const getLongComment = (id, fn) => {\r\n//     let story = '/story/' + id + '/long-comments'\r\n//     return Axios.get(story)\r\n//         .then(fn)\r\n// }\r\n\r\n// const getShortComment = (id, fn) => {\r\n//     let story = '/story/' + id + '/short-comments'\r\n//     return Axios.get(story)\r\n//         .then(fn)\r\n// }\r\nexport { getTopData, getBeforeData, getNewsData, getCommentData }","import React from 'react'\r\nimport { animate } from '../../common/animateJs'\r\nimport btn from './image/btn.svg'\r\n\r\nconst ContentTitleBtn = () => {\r\n\r\n    function onClick() {\r\n        let indexEl = document.getElementsByClassName('container')[0]\r\n        let indexPos = Number(window.getComputedStyle(indexEl, null).transform.split(',')[4])\r\n        let tabWidth = document.getElementsByClassName('tab')[0].clientWidth\r\n        if (indexPos === 0) {\r\n            animate(0, -tabWidth, indexEl)\r\n        } else if (indexPos === -tabWidth) {\r\n            animate(-tabWidth, 0, indexEl)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='btn' style={{ width: '30px', height: '30px', margin: '5px 10px', position: 'absolute' }}\r\n            onClick={onClick}>\r\n            <img src={btn} style={{ width: '100%', margin: '0px' }} alt='btn' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContentTitleBtn","import React from 'react'\r\nimport ContentTitleBtn from './ContentTitleBtn'\r\nimport './ContentTitle.css'\r\n\r\nconst ContentTitle = (props)=>{\r\n\r\n    return (\r\n        <div className='content-title title' style={{width:document.documentElement.clientWidth}}>\r\n            <ContentTitleBtn />\r\n            <span style={{color:'white'}}>每日新闻</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContentTitle","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {animate} from '../common/animateJs'\r\n\r\n/**\r\n * \r\n * @param {Object} props \r\n * @param {Node} outSide\r\n * @param {Node} inSide\r\n */\r\nconst AnimateLink = (props)=>{\r\n\r\n    function onClick(){\r\n        // let indexEl = document.querySelector('.container')\r\n        let outSide = props.outSide\r\n        let outSide_from = Number(window.getComputedStyle(outSide).transform.split(',')[4])\r\n        let outSide_to = -(document.documentElement.clientWidth / 2) + outSide_from\r\n        let inSide = props.inSide\r\n        let inSide_to = -document.documentElement.clientWidth\r\n        animate(outSide_from,outSide_to,outSide)\r\n        animate(0,inSide_to,inSide)\r\n    }\r\n    return(\r\n        <Link to={props.to} onClick={onClick}>\r\n            {\r\n                props.children\r\n            }\r\n        </Link>\r\n        \r\n    )\r\n}\r\n\r\nexport default AnimateLink","import React from 'react'\r\n// import CScroll from './es_CScroll'\r\nimport CScroll from 'crash-scroll'\r\n\r\nclass Scroll extends React.Component{\r\n    componentDidMount(){\r\n        this.scroll = new CScroll(this.refs.scroll,this.props.options)\r\n        if(this.props.getScroll) this.props.getScroll(this.scroll)\r\n    }\r\n    componentDidUpdate(){\r\n        this.scroll.refresh()\r\n    }\r\n    render(){\r\n        return (\r\n            <div ref='scroll' className={this.props.className} style={this.props.style} >\r\n                {\r\n                    this.props.children\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Scroll","import React from 'react'\r\nimport AnimateLink from '../../common/AnimateLink'\r\nimport Scroll from '../../common/Scroll/Scroll'\r\nimport './ContentTopBanner.css'\r\n\r\nconst ContentBanner = (props) => {\r\n    let data = props.top_stories\r\n    // console.log(data)\r\n    const style = {\r\n        width: document.documentElement.clientWidth,\r\n        height: '200px',\r\n    }\r\n    const options = {\r\n        scrollX: true,\r\n        direction: 'x',\r\n        swiper: {\r\n            loop: true\r\n        }\r\n    }\r\n    return (\r\n        <div style={style}>\r\n            <Scroll className='content-banner' style={{width:'100%',height:'100%',overflow:'hidden'}}  options={options}>\r\n                <ul className='content-banner-list'>\r\n                    {\r\n                        data ?\r\n                            data.map((val, index) => {\r\n                                return (\r\n                                    <li className={val.id} data-type={index} style={{ width: document.documentElement.clientWidth}} key={index}>\r\n                                        <AnimateLink to={`/page?type=top_stories&&id=${val.id}`} outSide={document.querySelector('.container')} inSide={document.querySelector('.page')}>\r\n                                        <div className=\"image\" style={{}}>\r\n                                            <img className='banner-img' src={val.image} alt={val.ga_prefix} style={{margin:'0px'}}/>\r\n                                        </div>\r\n                                        <div className='text'>\r\n                                            <p>{val.title}</p>\r\n                                        </div>\r\n                                        </AnimateLink>\r\n                                    </li>\r\n                                )\r\n                            }) : null\r\n                    }\r\n                </ul>\r\n            </Scroll>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContentBanner\r\n\r\n","import React from 'react'\r\nimport AnimateLink from '../../common/AnimateLink'\r\n\r\nimport './ContentList.css'\r\n\r\nconst ContentList = (props) => {\r\n    let data = props.stories\r\n    return (\r\n        <ul className='content-list'>\r\n            {\r\n                data ?\r\n                    data.map(val => {\r\n                        return (\r\n                            <li className={val.id} data-type={val.id} key={val.id}>\r\n                                <AnimateLink to={`/page?type=stories&&id=${val.id}`} outSide={document.querySelector('.container')} inSide={document.querySelector('.page')}>\r\n                                    <div className='text'>\r\n                                        <span>{val.title}</span>\r\n                                    </div>\r\n                                    <div className='image'>\r\n                                        <img src={val.images} alt={val.ga_prefix} style={{margin:'0px'}}/>\r\n                                    </div>\r\n                                </AnimateLink>\r\n                            </li>\r\n                        )\r\n                    }) : null\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ContentList","import React from 'react'\r\nimport ContentList from './ContentList'\r\n\r\nconst ContentTopList = (props)=>{\r\n    return (\r\n        <div className='content-top-list'>\r\n            <ContentList {...props} />\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default ContentTopList","import React from 'react'\r\n\r\nimport ContentTopBanner from './ContentTopBanner'\r\nimport ContentTopList from './ContentTopList'\r\n\r\nclass ContentTop extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            top_stories: this.props.topData.top_stories,\r\n            stories: this.props.topData.stories\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='contentTop'>\r\n                <ContentTopBanner top_stories={this.state.top_stories} />\r\n                <ContentTopList stories={this.state.stories} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ContentTop","\r\n/**\r\n * @method  输入日期导出为'某月某日星期几'\r\n * @param   {String} date '20190901'\r\n */\r\nconst getDateWeek = (date)=>{\r\n    let year = date.slice(0, 4)\r\n    let month = date.slice(4, 6) \r\n    let day = date.slice(6, 8)\r\n    let weekDate = new Date(year, month, day).toString().slice(0, 3)\r\n    let week = getWeekDay(weekDate)\r\n    let days = month + '月' + day + '日 ' + week\r\n    return days\r\n}\r\n\r\nconst getWeekDay = (week)=>{\r\n    let week_ehg = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n    let week_cn = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日']\r\n    for (let i = 0; i < week_ehg.length; i++) {\r\n        if (week_ehg[i] === week) {\r\n            return week_cn[i]\r\n        }\r\n    }\r\n}\r\n\r\nexport default getDateWeek","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport getDateWeek from '../../common/getDateWeek'\r\nimport './ContentTitle.css'\r\n\r\nclass ContentBeforeTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n        this.titleList = []\r\n    }\r\n    \r\n    getTitleList(){\r\n        let top = this.refs.beforeTitle.offsetTop\r\n        let date = getDateWeek(this.props.date)\r\n        let arr = [top,date]\r\n        return arr\r\n    }\r\n    componentDidMount(){\r\n        this.props.onGetTitleList(this.getTitleList())\r\n    }\r\n    render() {\r\n        return (\r\n            <div ref='beforeTitle' className='before-title title' style={{ background: 'rgb(2, 143, 214)' }}>\r\n                <span style={{ color: 'white' }}>{getDateWeek(this.props.date)}</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProp = (dispatch) => {\r\n    return {\r\n        onGetTitleList: (arr) => {\r\n            dispatch({\r\n                type: 'GET_TITLELIST',\r\n                titleList: arr\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nContentBeforeTitle = connect(null, mapDispatchToProp)(ContentBeforeTitle)\r\n\r\nexport default ContentBeforeTitle      ","import React from 'react'\r\nimport ContentList from './ContentList'\r\n\r\nconst ContentBeforeList = (props) => {\r\n    return (\r\n        <div className='content-before-list'>\r\n            <ContentList {...props} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContentBeforeList","import React from 'react'\r\n\r\nimport ContentBeforeTitle from './ContentBeforeTitle'\r\nimport ContentBeforeList from './ContentBeforeList'\r\n\r\nclass ContentBefore extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='content-before'>\r\n                {\r\n                    this.props.beforeData.map((val, index) => {\r\n                        return (\r\n                            <div className={`content-before-${index}`} key={index}>\r\n                                <ContentBeforeTitle date={val.date} />\r\n                                <ContentBeforeList stories={val.stories} />\r\n                            </div>\r\n                        )\r\n\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default ContentBefore","import React from 'react'\r\nimport loading from './image/Rolling-1s-200px.svg'\r\n\r\n\r\nconst Loading = () => {\r\n    const style = {\r\n        width:document.documentElement.clientWidth,\r\n        height:document.documentElement.clientHeight,\r\n        display:'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    }\r\n    const imgStyle = {\r\n        width:'50px',\r\n        lineHeight: '50px'\r\n    }\r\n    return (\r\n        <div className='loading' style={style}>\r\n            <img src={loading} style={imgStyle} alt='loading' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bannerAnimate, titleAnimate } from '../../common/animateJs'\r\nimport { getTopData, getBeforeData } from '../../common/getData'\r\n\r\nimport ContentTitle from './ContentTitle'\r\nimport ContentTop from './ContentTop'\r\nimport ContentBefore from './ContentBefore'\r\nimport Scroll from '../../common/Scroll/Scroll'\r\nimport Loading from '../../common/Loading/Loding'\r\n\r\nclass Content extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.scroll = null\r\n        this.titleEl = null\r\n        this.pEl = null\r\n        this.bannerEl = null\r\n        this.imgEl = null\r\n        this.bannerHeight = null\r\n        this.titleList = null\r\n        this.dataLoading = false\r\n    }\r\n    getScroll(val) {\r\n        this.scroll = val\r\n        this.titleEl = document.querySelector('.content-title')\r\n        this.spanEl = document.querySelector('.content-title span')\r\n        this.bannerEl = document.querySelector('.content-banner')\r\n        this.imgsEl = document.querySelectorAll('.content-banner-list .image')\r\n        this.bannerHeight = this.bannerEl.clientHeight\r\n        this.titleList = this.props.titleList\r\n        this.scroll.on('onScroll', (ev) => {\r\n            this.onScrollDown(ev)\r\n            this.onScrollUp(ev)\r\n        })\r\n        this.scroll.on('onTouchMove',(ev)=>{\r\n            console.log(ev)   \r\n        })\r\n        this.scroll.on('onTouchEnd',(ev)=>{\r\n            console.log(ev)\r\n        })\r\n\r\n    }\r\n    onScrollUp(ev) {\r\n        let contentHeight = this.scroll.$dom.content_h - this.scroll.$dom.el_h\r\n        // contentTitle\r\n        if (ev.y <= 0) {\r\n            titleAnimate(ev.y, this.titleList, this.titleEl, this.spanEl, '2,143,214', this.bannerHeight)\r\n        }\r\n        // getBeforeData\r\n        if (ev.y < -contentHeight + 200) {\r\n            if (this.dataLoading) return\r\n            this.dataLoading = true\r\n            getBeforeData()\r\n                .then(getBeforeData)\r\n                .then(() => { this.dataLoading = false })\r\n        }\r\n    }\r\n    onScrollDown(ev) {\r\n        // bannerAnimate\r\n        if (ev.y > 0) {\r\n            bannerAnimate(ev.y, this.bannerEl, this.imgsEl, this.bannerHeight)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getTopData()\r\n    }\r\n    render() {\r\n        const style = {\r\n            width: document.documentElement.clientWidth,\r\n            height: document.documentElement.clientHeight,\r\n            overflow: 'hidden'\r\n        }\r\n        return (\r\n            <div className='content' style={{ margin: '0px' }}>\r\n                {\r\n                    this.props.topData && this.props.beforeData.length ?\r\n                        <>\r\n                            <ContentTitle />\r\n                            <Scroll className='scroll' style={style}\r\n                                options={{ scrollX: false, scrollBar: true, direction:'y',sideLock: [100, null] }}\r\n                                getScroll={this.getScroll.bind(this)}>\r\n                                <div>\r\n                                    <ContentTop topData={this.props.topData} />\r\n                                    <ContentBefore beforeData={this.props.beforeData} />\r\n                                </div>\r\n                            </Scroll>\r\n                        </> : <Loading />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        date: state.date,\r\n        topData: state.topData,\r\n        beforeData: state.beforeData,\r\n        titleList: state.titleList\r\n    }\r\n}\r\nContent = connect(mapStateToProps)(Content)\r\n\r\nexport default Content","import React from 'react'\r\nimport timg from './image/timg.jpg'\r\n\r\n\r\nconst TabUser = function () {\r\n    return (\r\n        <div className='tab-user' style={{width:'100%',height:'54px',display:'flex',margin:'20px 0px'}}>\r\n            <div className='image' style={{width:'35px',height:'35px',borderRadius:'50%',overflow:'hidden',margin:'auto 10px',background:'#5b5b5b'}}>\r\n                <img src={timg} alt='用户头像' style={{width: '100%'}}/>\r\n            </div>\r\n            <div className='text'>\r\n                <p style={{color:'#74797e'}}>请登录</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TabUser","import React from 'react'\r\nimport 收藏 from './image/收藏.svg'\r\nimport 消息 from './image/消息.svg'\r\nimport 设置 from './image/设置.svg'\r\n\r\n\r\nconst TabOpiton = function () {\r\n    const list = [['collect',收藏,'收藏'],['news',消息,'消息'],['option',设置,'设置']]\r\n    return (\r\n        <div className='option' style={{width:'100%',marginTop:'10px',display:'flex'}}>\r\n            {\r\n                list.map((val,index)=>{\r\n                    return(\r\n                        <div className={val[0]} style={{width:'54px',height:'70px',textAlign:'center',marginRight:'10px'}} key={index}>\r\n                            <div style={{width:'18px',height:'18px',margin:'10px auto'}}>\r\n                                <img src={val[1]} alt={val[2]}  style={{width:'100%'}}/>\r\n                            </div>\r\n                            <p style={{color:'#74797e',margin:'0px'}}>{val[2]}</p>  \r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TabOpiton","import React from 'react'\r\nimport 首页 from './image/首页.svg'\r\n\r\nconst TabList = function () {\r\n    const list = [['home', 首页, '首页']]\r\n    return (\r\n        <div className=\"list\">\r\n            {\r\n                list.map((val, index) => {\r\n                    return (\r\n                        <div className={val[0]} key={index} style={{ display: 'flex', width: '100%', height: '56px', background: '#1b2329' }}>\r\n                            <div style={{width:'24px',height:'24px',margin:'auto 10px'}}>\r\n                                <img src={val[1]} alt={val[2]} style={{width:'100%'}}/>\r\n                            </div>\r\n                            <p style={{ color: '#fff' }}>{val[2]}</p>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TabList","import React from 'react'\r\n\r\nimport TabUser from './TabUser'\r\nimport TabOption from './TabOption'\r\nimport TabList from './TabList'\r\n\r\n\r\nclass Tab extends React.Component {\r\n    render() {\r\n        const style = {\r\n            width: document.documentElement.clientWidth * .6,\r\n            height: document.documentElement.clientHeight,\r\n            background: '#232a30'\r\n        }\r\n        return (\r\n            <div className='tab' style={style} >\r\n                <TabUser />\r\n                <TabOption />\r\n                <TabList />\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tab","import React from 'react'\r\nimport { animate } from '../../common/animateJs'\r\n\r\nimport Content from '../Content/Content'\r\nimport Tab from '../Tab/Tab'\r\n\r\nclass Index extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.container = null\r\n        this.tabWidth = null\r\n    }\r\n    // Index 左右滑动\r\n    onTouchStart(ev) {\r\n        let that = this\r\n        let el = ev.currentTarget\r\n        let dx = ev.touches[0].clientX\r\n        let contentWidth = Number(window.getComputedStyle(el).transform.split(',')[4])\r\n        let pos = contentWidth\r\n        el.ontouchmove = function (ev) {\r\n            let mx = ev.touches[0].clientX\r\n            let vx = mx - dx\r\n            pos = contentWidth + vx\r\n            if (pos < -that.tabWidth) {\r\n                pos = -that.tabWidth\r\n                el.style.transform = `translateX(${-that.tabWidth}px) translateZ(0px)`\r\n            } else if (pos > 0) {\r\n                pos = 0\r\n                el.style.transform = `translateX(${0}px) translateZ(0px)`\r\n            } else {\r\n                el.style.transform = `translateX(${pos}px) translateZ(0px)`\r\n            }\r\n\r\n        }\r\n        el.ontouchend = function () {\r\n            let tabW = -that.tabWidth / 2\r\n            if (pos > tabW) {\r\n                animate.call(that, pos, 0, el)\r\n            } else if (pos < tabW) {\r\n                animate.call(that, pos, -that.tabWidth, el)\r\n            }\r\n            el.ontouchmove = null\r\n            el.ontouchend = null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.container = document.querySelector('.container')\r\n        this.tabWidth = document.querySelector('.tab').clientWidth\r\n        this.container.style.transform = `translateX(-${this.tabWidth}px)`\r\n        \r\n    }\r\n    render() {\r\n        return (\r\n            <div className='container' style={{ display: 'flex', float: 'left' }} onTouchStart={this.onTouchStart.bind(this)} >\r\n                <Tab />\r\n                <Content />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Index","import React from 'react'\r\nimport { getNewsData } from '../../common/getData'\r\nimport { bannerAnimate } from '../../common/animateJs'\r\n\r\nimport Loading from '../../common/Loading/Loding'\r\nimport './PageListContent.css'\r\n\r\nclass PageListContent extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            pageList: null\r\n        }\r\n        this.scroll = null\r\n        this.linkEl = null\r\n    }\r\n    // 创建Link\r\n    createLink() {\r\n        let css = this.state.pageList.css\r\n        this.link = document.createElement('link')\r\n        this.link.setAttribute('rel', 'stylesheet')\r\n        this.link.setAttribute('type', 'text/css')\r\n        this.link.setAttribute('href', css)\r\n        document.querySelector('head').appendChild(this.link)\r\n    }\r\n    removeLink() {\r\n        if (!this.link) return\r\n        document.querySelector('head').removeChild(this.link)\r\n    }\r\n    // 创建抬头图片\r\n    createImg() {\r\n        let that = this\r\n        // 清除main的overflow:hidden\r\n        let main = document.querySelectorAll('.content-wrap')\r\n        for (let i = 0; i < main.length; i++) {\r\n            main[i].style.overflow = 'visible'\r\n        }\r\n        // \r\n        let el = this.refs.content.querySelector('.img-place-holder')\r\n        el.innerHTML =\r\n            `<div class='img-content'>\r\n                <img src=${this.state.pageList.image} alt=${this.state.pageList.ga_prefix}/>\r\n            </div>`\r\n        // imgLoad \r\n        let imgEl = document.querySelectorAll('.main-wrap img')\r\n        for (let i = 0; i < imgEl.length; i++) {\r\n            imgEl[i].onload = function () {\r\n                that.scroll.refresh()\r\n            }\r\n        }\r\n    }\r\n\r\n    onScroll() {\r\n        let bannerEl = this.refs.content.querySelector(\".img-content\")\r\n        let imgEl = bannerEl.querySelector('img')\r\n        // onScroll\r\n        this.scroll.on('onScroll', (ev) => {\r\n            // 下拉\r\n            if (ev.y > 0) {\r\n                bannerAnimate(ev.y, bannerEl, imgEl, 200)\r\n            }\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.indexId === 0) return\r\n        getNewsData(this.props.indexId, (res) => {\r\n            let data = res.data\r\n            this.setState({\r\n                pageList: data\r\n            }, () => {\r\n                this.createLink()\r\n                this.createImg()\r\n                this.onScroll()\r\n            })\r\n        })\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.scroll === nextProps.scroll) return\r\n        this.scroll = nextProps.scroll\r\n    }\r\n    componentWillUnmount() {\r\n        this.removeLink()\r\n    }\r\n    render() {\r\n        return (\r\n            this.state.pageList ?\r\n                <div className='page-list-content' ref='content' dangerouslySetInnerHTML={{ __html: this.state.pageList.body }}></div>\r\n                : <Loading />\r\n        )\r\n    }\r\n\r\n}\r\n \r\nexport default PageListContent","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getCommentData } from '../../common/getData'\r\nimport { animate } from '../../common/animateJs'\r\nimport AnimateLink from '../../common/AnimateLink'\r\n\r\nimport arrow from './images/arrow.svg'\r\nimport like from './images/like.svg';\r\nimport share from './images/share.svg'\r\nimport message from './images/message.svg'\r\nimport './PageListComment.css'\r\n\r\nclass PageListComment extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            num: 0\r\n        }\r\n    }\r\n    getCommentData() {\r\n        let id = this.props.indexId\r\n        if (id === 0) return\r\n        getCommentData(id, (res) => {\r\n            let len = res.longComment.comments.length + res.shortComment.comments.length\r\n            this.setState({\r\n                num: len\r\n            })\r\n        })\r\n    }\r\n    onClickLeft(ev) {\r\n        ev.stopPropagation()\r\n        let goBack = this.props.history.goBack\r\n        let contentEl = document.querySelector('.container')\r\n        let pageEl = document.querySelector('.page')\r\n        let contentWidth = Number(window.getComputedStyle(contentEl).transform.split(',')[4])\r\n        let pageWidth = Number(window.getComputedStyle(pageEl).transform.split(',')[4])\r\n        new Promise((res) => {\r\n            animate(contentWidth, -225, contentEl, res)\r\n            animate(pageWidth, 0, pageEl, res)\r\n        }).then(()=>{\r\n            goBack()\r\n        })\r\n\r\n        // goBack()\r\n    }\r\n    onClickDown(ev) {\r\n        ev.stopPropagation()\r\n        if (!this.props.nextId) return\r\n        this.props.onPageNextListData(this.props.nextId)\r\n        console.log('123')\r\n    }\r\n    componentDidMount() {\r\n        this.getCommentData()\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='page-list-comment' >\r\n                <div className='icon arrow-left' >\r\n                    <div className='page-list-comment-img' >\r\n                        <img src={arrow} alt='arrow-left' onClick={this.onClickLeft.bind(this)} />\r\n                    </div>\r\n                </div>\r\n                <div className='icon arraw-down' >\r\n                    <div className='page-list-comment-img'>\r\n                        <img src={arrow} alt='arrow-down' onClick={this.onClickDown.bind(this)} />\r\n                    </div>\r\n                </div>\r\n                <div className='icon like'>\r\n                    <div className='page-list-comment-img'>\r\n                        <img src={like} alt='like' />\r\n                    </div>\r\n                </div>\r\n                <div className='icon share'>\r\n                    <div className='page-list-comment-img'>\r\n                        <img src={share} alt='share' />\r\n                    </div>\r\n                </div>\r\n                <div className='icon message' style={{ position: 'relative' }}>\r\n                    <AnimateLink to={`/page/comment/${this.props.indexId}`} outSide={document.querySelector('.page')} inSide={document.querySelector('.comment')}>\r\n                        <div className='page-list-comment-img'>\r\n                            <img src={message} alt='message' />\r\n                        </div>\r\n                        <div className='page-list-comment-number'>\r\n                            <span>{this.state.num}</span>\r\n                        </div>\r\n                    </AnimateLink>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nPageListComment = withRouter(PageListComment)\r\nexport default PageListComment","import React from 'react'\r\nimport up from './images/up.svg'\r\n\r\nconst PageListTop = (props) => {\r\n    const style = {\r\n        width: '25px',\r\n        height: '25px',\r\n        transition: 'transform 0.2s ease',\r\n        transform: props.switch ? 'rotate(180deg)' : 'rotate(0deg)'\r\n    }\r\n    return (\r\n        <div className='page-list-top' style={{ width: '100%', height: '45px', position: 'absolute', top: '0px', marginTop: '-45px', display: 'flex', justifyContent: 'center' }}>\r\n            {\r\n                props.prevId ?\r\n                    <div className='page-list-top-img' style={style}>\r\n                        <img src={up} alt='upData' style={{ width: '100%' }} />\r\n                    </div> : null\r\n            }\r\n\r\n            <div className='page-list-top-text'>\r\n                <span style={{ color: '#ccc' }}>{\r\n                    props.prevId ?\r\n                        '下拉刷新上一篇' : '已经是第一篇'\r\n                }</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageListTop","import React from 'react'\r\nimport up from './images/up.svg'\r\n\r\nconst PageListBot = (props) => {\r\n    const style = {\r\n        width: '25px',\r\n        height: '25px',\r\n        transition: 'transform 0.2s ease',\r\n        transform: props.switch ? 'rotate(180deg)' : 'rotate(0deg)'\r\n    }\r\n    return (\r\n        <div className='page-list-bottom' style={{ position: 'absolute', width: '100%', height: '45px', marginBottom: '-45px', display: 'flex', justifyContent: 'center' }}>\r\n            {\r\n                props.nextId ?\r\n                    <div className='page-list-top-img' style={style}>\r\n                        <img src={up} alt='upData' style={{ width: '100%' }} />\r\n                    </div> : null\r\n            }\r\n            <div className='page-list-top-text'>\r\n                <span style={{ color: '#ccc' }}>\r\n                    {\r\n                        props.nextId ?\r\n                            '上拉刷新下一篇' : '已经是最后一篇'\r\n                    }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageListBot","import React from 'react'\r\nimport Scroll from '../../common/Scroll/Scroll'\r\nimport { animateY } from '../../common/animateJs'\r\n\r\nimport PageContent from './PageListContent'\r\nimport PageListComment from './PageListComment'\r\nimport PageListTop from './PageListTop'\r\nimport PageListBot from './PageListBot'\r\n// import './PageList.css'\r\n\r\nclass PageList extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            scroll: null,\r\n            switch: false\r\n        }\r\n    }\r\n    getScroll(val) {\r\n        this.setState({\r\n            scroll: val\r\n        }, () => {\r\n            this.onScroll()\r\n        })\r\n    }\r\n    //pageList\r\n    onPagePrevListData() {\r\n        // 滑动至上一页面 然后执行更新数据\r\n        let pageContent = document.querySelector('.page-content')\r\n        new Promise((res) => {\r\n            animateY(-document.documentElement.clientHeight, 0, pageContent, res)\r\n        }).then(() => {\r\n            this.props.onPrevListData(this.props.prevId)\r\n            this.state.scroll.initSetPos()\r\n        })\r\n    }\r\n    onPageNextListData(nextId) {\r\n        let pageContent = document.querySelector('.page-content')\r\n        new Promise((res) => {\r\n            animateY(-document.documentElement.clientHeight, -document.documentElement.clientHeight * 2, pageContent, res)\r\n        }).then(() => {\r\n            console.log('pageList')\r\n            this.props.onNextListData(nextId)\r\n            this.state.scroll.initSetPos()\r\n        })\r\n    }\r\n    // 事件\r\n    onScroll() {\r\n        // onScroll\r\n        this.state.scroll.on('onScroll', (ev) => {\r\n            let content_h = this.state.scroll.$dom.content_h - this.state.scroll.$dom.el_h\r\n            // Switch\r\n            if (ev.y > 50 || ev.y < -(content_h + 70)) {\r\n                this.setState((prevState) => {\r\n                    if (prevState.switch === true) return\r\n                    return {\r\n                        switch: true\r\n                    }\r\n                })\r\n            } else {\r\n                this.setState((prevState) => {\r\n                    if (prevState.switch === false) return\r\n                    return {\r\n                        switch: false\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        // onTouchEnd\r\n        this.state.scroll.on('onTouchEnd', (ev) => {\r\n            let content_h = this.state.scroll.$dom.content_h - this.state.scroll.$dom.el_h\r\n            // Switch 初始化\r\n            this.setState((prevState) => {\r\n                if (prevState.switch === false) return\r\n                return {\r\n                    switch: false\r\n                }\r\n            })\r\n            // 下拉载入上一篇\r\n            if (ev.y > 50 && this.props.prevId) {\r\n                this.onPagePrevListData()\r\n            }\r\n            // 上拉载入下一篇\r\n            if (ev.y < -(content_h + 70) && this.props.nextId) {\r\n                this.onPageNextListData(this.props.nextId)\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.state.scroll.removeEvent()\r\n    }\r\n    render() {\r\n        const style = {\r\n            width: document.documentElement.clientWidth,\r\n            height: document.documentElement.clientHeight,\r\n            position: 'relative',\r\n            overflow: 'hidden'\r\n        }\r\n        return (\r\n            <>\r\n                <Scroll className='page-list-scroll' style={style} options={{ scrollBar: true, direction: 'Y', sideLock: [70, null] }} getScroll={this.getScroll.bind(this)}>\r\n                    <div className='page-list' ref='pageList' style={{ width: '100%', position: 'relative', minHeight: '1000px' }}>\r\n                        <PageContent indexId={this.props.indexId} onPageScroll={this.onScroll.bind(this)} scroll={this.state.scroll} />\r\n                        <div style={{ width: '100%', height: '40px' }}></div>\r\n                        <PageListTop prevId={this.props.prevId} switch={this.state.switch} />\r\n                        <PageListBot nextId={this.props.nextId} switch={this.state.switch} />\r\n                    </div>\r\n                    <PageListComment indexId={this.props.indexId} nextId={this.props.nextId} onPageNextListData={this.onPageNextListData.bind(this)} />\r\n                </Scroll>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default PageList","import React from 'react'\r\nimport url from 'url'\r\nimport { connect } from 'react-redux'\r\nimport { animate } from '../../common/animateJs'\r\n\r\nimport PageList from './PageList'\r\nimport './Page.css'\r\n\r\n\r\nclass Page extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            pageList: []\r\n        }\r\n        this.el = null\r\n        this.id = null\r\n        this.type = null\r\n        this.type_id = null\r\n        this.loading = false\r\n    }\r\n\r\n    // 创建Url\r\n    getUrl() {\r\n        let _url = url.parse(this.props.location.search, true)\r\n        this.id = _url.query.id\r\n        this.type = _url.query.type\r\n        this.type_id = this.props[`${this.type}_id`]\r\n        let listen = this.props.history.listen\r\n        // 创建了监听函数\r\n        // listen((listen) => {\r\n        //     // page\r\n        //     console.log('page-listen ')\r\n        //     let contentWidth = Number(window.getComputedStyle(document.querySelector('.container')).transform.split(',')[4])\r\n        //     let pageWidth = Number(window.getComputedStyle(document.querySelector('.page')).transform.split(',')[4])\r\n        //     let pathName = listen.pathname\r\n        //     if (pathName === '/') {\r\n        //         animate(contentWidth, -225, document.querySelector('.container'))\r\n        //         animate(pageWidth, 0, document.querySelector('.page'))\r\n        //     }\r\n        // })\r\n    }\r\n    // 创建pageList  id数组\r\n    getPageList(id) {\r\n        let type_id = this.type_id\r\n        let indexId = Number(id)\r\n        let newPageList = []\r\n        type_id.forEach((val, index, array) => {\r\n            if (indexId === val) {\r\n                let _pprev = array[index - 2]\r\n                let _prev = array[index - 1]\r\n                let _mid = array[index]\r\n                let _next = array[index + 1]\r\n                let _nnext = array[index + 2]\r\n                // arr 一个带有id的数组\r\n                let arr = [[_pprev, _prev, _mid], [_prev, _mid, _next], [_mid, _next, _nnext]]\r\n                arr.forEach(val => {\r\n                    let obj = {}\r\n                    if (!val[1]) {\r\n                        obj = {\r\n                            prevId: val[0],\r\n                            indexId: 0,\r\n                            nextId: val[2]\r\n                        }\r\n                    } else {\r\n                        obj = {\r\n                            prevId: val[0],\r\n                            indexId: val[1],\r\n                            nextId: val[2]\r\n                        }\r\n                    }\r\n                    newPageList.push(obj)\r\n                })\r\n            }\r\n        })\r\n        this.setState({\r\n            pageList: newPageList\r\n        }, () => {\r\n            console.log(this.state.pageList)\r\n        })\r\n    }\r\n    // touchStare\r\n    onTouchStart(ev) {\r\n        // ev.currentTarget\r\n        let el = ev.currentTarget\r\n        let goBack = this.props.history.goBack\r\n        let contentEl = document.querySelector('.container')\r\n        let pageEl = document.querySelector('.page')\r\n        let contentWidth = Number(window.getComputedStyle(contentEl).transform.split(',')[4])\r\n        let pageWidth = Number(window.getComputedStyle(pageEl).transform.split(',')[4])\r\n        let dx = ev.touches[0].clientX\r\n        el.ontouchmove = (ev) => {\r\n            let mx = ev.touches[0].clientX\r\n            let vx = mx - dx\r\n            let contentVx = vx / 2\r\n            if (vx < 0) return\r\n            contentEl.style.transform = `translateX(${contentWidth + contentVx}px) translateZ(0px)`\r\n            pageEl.style.transform = `translateX(${pageWidth + vx}px) translateZ(0px)`\r\n        }\r\n        el.ontouchend = () => {\r\n            this.touchEnd = true\r\n            let width = document.documentElement.clientWidth\r\n            // 最初时content的位置\r\n            let _contentWidth = Number(window.getComputedStyle(contentEl).transform.split(',')[4])\r\n            let _pageWidth = Number(window.getComputedStyle(pageEl).transform.split(',')[4])\r\n            // 向左滑动 还原\r\n            if (_pageWidth < -width / 2) {\r\n                animate(_contentWidth, contentWidth, contentEl)\r\n                animate(_pageWidth, -width, pageEl)\r\n                // 向右滑动 返回首页    \r\n            } else if (_pageWidth >= -width / 2) {\r\n                new Promise((res) => {\r\n                    animate(_contentWidth, -225, contentEl,res)\r\n                    animate(_pageWidth, 0, pageEl,res)\r\n                }).then(() => {\r\n                    goBack()\r\n                })\r\n            }\r\n            el.ontouchmove = null\r\n            el.ontouchend = null\r\n        }\r\n    }\r\n\r\n    onPrevListData(id) {\r\n        console.log('执行下拉操作')\r\n        // 1.getPageList\r\n        this.getPageList(id)\r\n        // 2.切换至中间层\r\n        this.el = this.refs.pageContent\r\n        let height = document.documentElement.clientHeight\r\n        this.el.style.transform = `translateY(${-height}px) translateZ(0px)`\r\n        // 3 修改history路径\r\n        let replace = this.props.history.replace\r\n        replace(`/page?${id}`)\r\n    }\r\n    onNextListData(id) {\r\n        console.log('执行上拉操作')\r\n        // 1.getPageList\r\n        this.getPageList(id)\r\n        // 2.切换至中间层\r\n        this.el = this.refs.pageContent\r\n        let height = document.documentElement.clientHeight\r\n        this.el.style.transform = `translateY(${-height}px) translateZ(0px)`\r\n        // 3 修改history路径\r\n        let replace = this.props.history.replace\r\n        replace(`/page?${id}`)\r\n    }\r\n    componentWillMount() {\r\n        this.getUrl()\r\n        this.getPageList(this.id)\r\n    }\r\n    render() {\r\n        const style = {\r\n            width: document.documentElement.clientWidth,\r\n            height: document.documentElement.clientHeight * 3,\r\n            transform: `translateY(-${document.documentElement.clientHeight}px)`,\r\n            background: 'white',\r\n        }\r\n        // console.log(this.state.pageList)\r\n        return (\r\n            <div className='page-content' ref='pageContent' style={style} onTouchStart={this.onTouchStart.bind(this)}>\r\n                {\r\n                    this.state.pageList.length ?\r\n                        this.state.pageList.map(val => {\r\n                            return (\r\n                                <div className={`page-content-list-${val.indexId}`} key={val.indexId}>\r\n                                    <PageList\r\n                                        onPrevListData={this.onPrevListData.bind(this)}\r\n                                        onNextListData={this.onNextListData.bind(this)}\r\n                                        prevId={val.prevId}\r\n                                        indexId={val.indexId}\r\n                                        nextId={val.nextId}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                        ) : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        top_stories_id: state.top_stories_id,\r\n        stories_id: state.stories_id,\r\n    }\r\n}\r\n\r\nPage = connect(mapStateToProps)(Page)\r\n\r\nexport default Page","import React from 'react'\r\n\r\nconst CommentTitle = (props)=>{\r\n    const style = {\r\n        width:document.documentElement.clientWidth,\r\n        height:'45px',\r\n        background:'rgb(2, 143, 214)',\r\n        textAlign:'center',\r\n        lineHeight:'45px',\r\n        color:'white'\r\n    }\r\n    return (\r\n        <div className='comment-title' style={style}>\r\n            {`${props.commentNum}条评论`}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentTitle","import React from 'react'\r\nimport like from './images/like.svg'\r\n\r\nconst CommentListContent = (props) => {\r\n\r\n    function getDate() {\r\n        let _month = {\r\n            'Jan':'01',\r\n            'Feb':'02',\r\n            'Mar':'03',\r\n            'Apr':'04',\r\n            'May':'05',\r\n            'Jun':'06',\r\n            'Jul':'07',\r\n            'Aug':'08',\r\n            'Sep':'09',\r\n            'Oct':'10',\r\n            'Nov':'11',\r\n            'Dec':'12'\r\n        }\r\n        let date = new Date(Date.now() - 1560753647).toString()\r\n        let arr = date.split(' ')\r\n        let month = arr[1]\r\n        let day = arr[2]\r\n        let time = arr[4]\r\n        for (const key in _month) {\r\n            if(month === key){\r\n                return `${_month[key]}-${day} ${time}`\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    return (\r\n        <div className='comment-list-content' style={{ display: 'flex', width: document.documentElement.clientWidth, borderBottom: '0.5px solid rgba(191,191,191,0.8)' }}>\r\n            <div className='avatar' style={{ width: '20%', }}>\r\n                <div style={{ width: '35px', height: '35px', borderRadius: '50%', overflow: 'hidden', margin: '15px auto' }}>\r\n                    <img src={props.comment.avatar} alt='avatar' style={{ width: '100%' }} />\r\n                </div>\r\n            </div>\r\n            <div className='content' style={{ width: '80%' }}>\r\n                <div className='top' style={{ height: '45px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <div className='author' style={{ fontWeight: '600' }}>\r\n                        <span>{props.comment.author}</span>\r\n                    </div>\r\n                    <div className='like' style={{ marginRight: '15px' }}>\r\n                        <img src={like} alt='like' style={{ width: '16px' }} />\r\n                        <span style={{ color: '#bfbfbf' }}>\r\n                            {\r\n                                props.comment.likes\r\n                            }\r\n                        </span>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className='middle' style={{marginRight:'20px'}}>\r\n                    <span style={{fontSize:'15px'}}>\r\n                      {\r\n                        props.comment.content\r\n                    }  \r\n                    </span> \r\n                </div>\r\n                <div className='bottom' style={{width:'100%',height:'45px',lineHeight:'45px',fontSize:'14px'}}>\r\n                    <span>{getDate()}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentListContent","import React from 'react'\r\nimport CommentListContent from './CommentListContent'\r\n\r\nimport longComment from '../../json/longComment.json'\r\n\r\nconst CommentListLong = (props) => {\r\n    let long = props.longComments.comments\r\n    return (\r\n        <div className='comment-list-long' >\r\n            <div style={{ width: '100%', height: '45px', borderBottom: '0.5px solid rgba(191,191,191,0.5)', color: 'black', lineHeight: '45px', }}>\r\n                <span style={{ marginLeft: '15px', fontWeight: '600' }}>\r\n                    {`${long.length}条长评`}\r\n                </span>\r\n            </div>\r\n            <div className='long-comment-list'>\r\n                {\r\n                    long.map((val) => {\r\n                        return (\r\n                            <CommentListContent comment={val} key={val.id} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentListLong","import React from 'react'\r\n\r\nimport shortComment from '../../json/shortComment.json'\r\nimport CommentListContent from './CommentListContent'\r\n\r\nconst CommentListShort = (props) => {\r\n    let short = props.shortComments.comments\r\n    \r\n    // 不做了\r\n    // function onTouchStart() {\r\n    //     let list = document.querySelector('.short-comment-list')\r\n    //     console.log(props.scroll)\r\n    // }\r\n\r\n    return (\r\n        <div className='comment-list-short'>\r\n            <div style={{ width: '100%', height: '45px', borderBottom: '0.5px solid rgba(191,191,191,0.5)', color: 'black', lineHeight: '45px' }} >\r\n                <span style={{ marginLeft: '15px', fontWeight: '600' }}>\r\n                    {`${short.length}条短评`}\r\n                </span>\r\n            </div>\r\n            <div className='short-comment-list'>\r\n                {\r\n                    short.map((val) => {\r\n                        return (\r\n                            <CommentListContent comment={val} key={val.id} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentListShort","import React from 'react'\r\nimport Scroll from '../../common/Scroll/Scroll'\r\n\r\nimport CommentListLong from './CommentListLong'\r\nimport CommentListShort from './CommentListShort'\r\n\r\nclass CommentList extends React.Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            scroll: null\r\n        }\r\n    }\r\n    getScroll(val){\r\n        this.setState({\r\n            scroll:val\r\n        })\r\n    }\r\n    render() {\r\n        const scrollStyle = {\r\n            width: document.documentElement.clientWidth,\r\n            height: document.documentElement.clientHeight - 45,\r\n            overflow: 'hidden'\r\n        }\r\n        const listStyle = {\r\n            width: document.documentElement.clientWidth,\r\n            minHeight: document.documentElement.clientHeight - 45,\r\n            position:'relative',\r\n            paddingBottom:'40px',\r\n            background:'white'\r\n        }\r\n        return (\r\n            <Scroll className='comment-list-scroll' style={scrollStyle} options={{scrollX: false, direction: 'Y', scrollBar: true}} getScroll={this.getScroll.bind(this)}>\r\n                <div className='comment-list' style={listStyle}>\r\n                    <CommentListLong longComments={this.props.commentList.longComment} />\r\n                    <CommentListShort shortComments={this.props.commentList.shortComment} scroll={this.state.scroll}/> \r\n                </div>\r\n            </Scroll>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CommentList","import React from 'react'\r\nimport { animate } from '../../common/animateJs'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport arrow from './images/arrow.svg'\r\nimport comment from './images/comment.svg'\r\n\r\nlet CommentBot = (props) => {\r\n    console.log(props)\r\n    function onTouchStart() {\r\n        let pageEl = document.querySelector('.page')\r\n        let pageWidth = Number(window.getComputedStyle(pageEl).transform.split(',')[4])\r\n        let commentEl = document.querySelector('.comment')\r\n        let commentWidth = Number(window.getComputedStyle(commentEl).transform.split(',')[4])\r\n        new Promise((res) => {\r\n            animate(pageWidth, -document.documentElement.clientWidth, pageEl, res)\r\n            animate(commentWidth, 0, commentEl, res)\r\n        }).then(() => {\r\n            props.history.goBack()\r\n        })\r\n    }\r\n    const style = {\r\n        position: 'fixed',\r\n        bottom: '0px',\r\n        width: document.documentElement.clientWidth,\r\n        height: '40px',\r\n        background: '#3d3d3d',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    }\r\n    return (\r\n        <div className='comment-bottom' style={style}>\r\n            <div className='comment-bot-arrow' style={{ position: 'absolute', left: '15px', transform: 'rotate(90deg)' }} >\r\n                <img src={arrow} alt='arrow' style={{ width: '30px', height: '30px' }} onClick={onTouchStart.bind(this)} />\r\n            </div>\r\n            <div className='text'>\r\n                <img src={comment} alt='comment' style={{ width: '15px', height: '15px', marginRight: '5px' }} />\r\n                <span style={{ color: 'white', fontSize: '14px' }}>写评论</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nCommentBot = withRouter(CommentBot)\r\nexport default CommentBot","import React from 'react'\r\nimport { animate } from '../../common/animateJs'\r\nimport { connect } from 'react-redux'\r\n\r\nimport CommentTitle from './CommentTitle'\r\nimport CommentList from './CommentList'\r\nimport CommentBot from './CommentBot';\r\n\r\nclass Comment extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.indexId = this.props.match.params.id\r\n        this.commentList = this.props.commentList[this.indexId]\r\n        this.commentNum = this.commentList.longComment.comments.length + this.commentList.shortComment.comments.length\r\n    }\r\n    onTouchStart(ev) {\r\n        console.log('comment')\r\n        let that = this\r\n        let commentEl = document.querySelector('.comment')\r\n        let pageEl = document.querySelector('.page')\r\n        let commentWidth = Number(window.getComputedStyle(commentEl).transform.split(',')[4])\r\n        let pageWidth = Number(window.getComputedStyle(pageEl).transform.split(',')[4])\r\n        let el = ev.currentTarget\r\n        let dx = ev.touches[0].clientX\r\n        let pageVx = null\r\n        let commentVx = null\r\n        el.ontouchmove = function (ev) {\r\n            let vx = ev.touches[0].clientX - dx\r\n            pageVx = pageWidth + (vx / 2)\r\n            commentVx = commentWidth + vx\r\n            if (commentVx <= commentWidth) {\r\n                pageVx = pageWidth\r\n                commentVx = commentWidth\r\n                pageEl.style.transform = `translateX(${pageVx}px)`\r\n                commentEl.style.transform = `translateX(${commentWidth}}px)`\r\n            } else if (commentVx >= 0) {\r\n                pageVx = pageWidth + (document.documentElement.clientWidth / 2)\r\n                pageEl.style.transform = `translateX(${pageVx}px)`\r\n                commentEl.style.transform = `translateX(${0}px)`\r\n            } else {\r\n                pageEl.style.transform = `translateX(${pageVx}px)`\r\n                commentEl.style.transform = `translateX(${commentVx}px)`\r\n            }\r\n        }\r\n        el.ontouchend = function () {\r\n            if(!pageVx || !commentVx) return  \r\n            // 复原\r\n            if (commentVx < -document.documentElement.clientWidth / 2) {\r\n                animate(pageVx, pageWidth, pageEl)\r\n                animate(commentVx, commentWidth, commentEl)\r\n            } else {\r\n                console.log(pageVx)\r\n                new Promise((res) => {\r\n                    animate(pageVx, -document.documentElement.clientWidth, pageEl,res)\r\n                    animate(commentVx, 0, commentEl,res)\r\n                }).then(()=>{\r\n                    that.props.history.goBack()\r\n                })\r\n            }\r\n            el.ontouchmove = null\r\n            el.ontouchend = null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            width: document.documentElement.clientWidth,\r\n            height: document.documentElement.clientHeight,\r\n            background:'white'\r\n        }\r\n        return (\r\n            <div style={style} onTouchStart={this.onTouchStart.bind(this)}>\r\n                <CommentTitle commentNum={this.commentNum} />\r\n                <CommentList commentList={this.commentList} />\r\n                <CommentBot />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        commentList: state.commentList,\r\n    }\r\n}\r\n\r\nComment = connect(mapStateToProps)(Comment)\r\nexport default Comment","import React from 'react';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\n\nimport Index from './components/Index/Index'\nimport Page from './components/Page/Page'\nimport Comment from './components/Comment/Comment'\nimport './App.css'\n\nfunction App() {\n  const style = {\n    position:'relative',\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight,\n    overflow: 'hidden'\n  }\n  const indexStyle = {\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight,\n    overflow: 'hidden'\n  }\n  const pageStyle = {\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight,\n    position: 'relative',\n    top: `-${document.documentElement.clientHeight}px`,\n    left: document.documentElement.clientWidth\n    // transform: `translateX(${document.documentElement.clientWidth}px) translateZ(0px)`\n  }\n  const commentStyle = {\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight,\n    position: 'absolute',\n    top:'0px',\n    left:document.documentElement.clientWidth\n    // left:'0px'\n  }\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className=\"App\" style={style}>\n          <div className='index' style={indexStyle}>\n            <Index />\n          </div>\n          <div className='page' style={pageStyle}>\n            <Route path='/page' component={Page} />\n          </div>\n          <div className='comment' style={commentStyle}>\n            <Route path='/page/comment/:id' component={Comment} />\n          </div>\n        </div>\n      </Router>\n    </Provider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/up.66aaad91.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.96333e81.svg\";","module.exports = __webpack_public_path__ + \"static/media/btn.d96e3e98.svg\";","module.exports = __webpack_public_path__ + \"static/media/Rolling-1s-200px.b800e9ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/timg.26f19a46.jpg\";","module.exports = __webpack_public_path__ + \"static/media/收藏.4fceb174.svg\";","module.exports = __webpack_public_path__ + \"static/media/消息.0665e09d.svg\";","module.exports = __webpack_public_path__ + \"static/media/设置.15c9ac90.svg\";","module.exports = __webpack_public_path__ + \"static/media/首页.e7faafd7.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.fff51b3b.svg\";","module.exports = __webpack_public_path__ + \"static/media/share.9dff36e7.svg\";","module.exports = __webpack_public_path__ + \"static/media/message.f6fcbd5e.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.85872c1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.96333e81.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.b5b586fe.svg\";"],"sourceRoot":""}