(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){},101:function(t){t.exports={}},102:function(t){t.exports={}},103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),s=n(20),a=n.n(s),r=(n(58),n(12)),l=n(22),c=Object(l.b)(function(t,e){switch(e.type){case"GET_DATE":return Object.assign({},t,{date:e.date});case"GET_TOPDATA":return Object.assign({},t,{topData:e.topData});case"GET_BEFOREDATA":return Object.assign({},t,{beforeData:e.beforeData});case"GET_TOP_STORIES_ID":return Object.assign({},t,{top_stories_id:e.top_stories_id});case"GET_STORIES_ID":return Object.assign({},t,{stories_id:e.stories_id});case"GET_PAGELIST":return Object.assign({},t,{pageList:e.pageList});case"GET_COMMENTLIST":return Object.assign({},t,{commentList:e.commentList});case"GET_TITLELIST":return t.titleList.push(e.titleList),Object.assign({},t,{titleList:t.titleList});default:return t}},{date:null,topData:[],beforeData:[],top_stories_id:[],stories_id:[],pageList:{},commentList:{},titleList:[]});c.subscribe(function(){console.log(c.getState())});var h=c,m=n(16),u=n(15),p=n(1),d=n(2),f=n(4),v=n(3),g=n(5),y=function(t,e,n,i,o){var s=null,a=t-e,r=t,l=null,c=0;s=t>e;!function t(){return 1e3===++c?(window.cancelAnimationFrame(l),s=null,a=null,r=null,l=null,c=null,void console.log("MAX")):r<=e&&s?(n.style.transform="translateX(".concat(e,"px) translateZ(0px)"),i&&i(),s=null,a=null,r=null,l=null,void(c=null)):(s&&(r-=.1*a,n.style.transform="translateX(".concat(r,"px) translateZ(0px)"),window.requestAnimationFrame(t)),r>=e&&!s?(n.style.transform="translateX(".concat(e,"px) translateZ(0px)"),i&&i(),s=null,a=null,r=null,l=null,void(c=null)):void(s||(r-=.1*a,n.style.transform="translateX(".concat(r,"px) translateZ(0px)"),window.requestAnimationFrame(t))))}()},E=function(t,e,n,i){var o=null,s=Math.abs(t-e),a=t,r=0;o=e>t,function t(){return++r>500?(o=null,s=null,a=null,r=null,void console.log("MAX")):o&&a>=e?(n.style.transform="translateY(".concat(e,"px) translateZ(0px)"),void i()):(o&&(a+=.1*s,n.style.transform="translateY(".concat(a,"px) translateZ(0px)")),!o&&a<=e?(n.style.transform="translateY(".concat(e,"px) translateZ(0px)"),void i()):(o||(a-=.1*s,n.style.transform="translateY(".concat(a,"px) translateZ(0px)")),void window.requestAnimationFrame(t)))}()},b=function(t,e,n,i){var o=e,s=t/i+1;o.style.transform="translateY(-".concat(t,"px) translateZ(0px)"),o.style.height=i+t+"px";for(var a=0;a<n.length;a++)n[a].style.transform="scale(".concat(s,")")},$=n(26),_=n(14),x=n.n(_),w=function(){var t=h.dispatch,e="https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/before/"+h.getState().date;return x.a.get(e).then(function(e){var n=e.data.date,i=e.data,o=e.data.stories.map(function(t){return t.id});t({type:"GET_DATE",date:n}),t({type:"GET_BEFOREDATA",beforeData:h.getState().beforeData.concat(i)}),t({type:"GET_STORIES_ID",stories_id:h.getState().stories_id.concat(o)})})},k=n(38),S=n.n(k),L=function(){return o.a.createElement("div",{className:"btn",style:{width:"30px",height:"30px",margin:"5px 10px",position:"absolute"},onClick:function(){var t=document.getElementsByClassName("container")[0],e=Number(window.getComputedStyle(t,null).transform.split(",")[4]),n=document.getElementsByClassName("tab")[0].clientWidth;0===e?y(0,-n,t):e===-n&&y(-n,0,t)}},o.a.createElement("img",{src:S.a,style:{width:"100%",margin:"0px"},alt:"btn"}))},T=(n(36),function(t){return o.a.createElement("div",{className:"content-title title",style:{width:document.documentElement.clientWidth}},o.a.createElement(L,null),o.a.createElement("span",{style:{color:"white"}},"\u6bcf\u65e5\u65b0\u95fb"))}),N=function(t){return o.a.createElement(m.b,{to:t.to,onClick:function(){var e=t.outSide,n=Number(window.getComputedStyle(e).transform.split(",")[4]),i=-document.documentElement.clientWidth/2+n,o=t.inSide,s=-document.documentElement.clientWidth;y(n,i,e),y(0,s,o)}},t.children)},O=function(t){t.prototype.scroll=function(){!function(t){if(!t.$op.scrollBar)return;(function(t){for(var e=t.$dom.el.childNodes,n=e.length,i=0;i<n;i++)if(1===e[i].nodeType){var o=e[i].getAttribute("class");if("scroll_bar"===o)return t.$dom.el_bar=e[i],!0}return!1})(t)||(t.$dom.el_bar=document.createElement("div"),t.$dom.el_bar.setAttribute("class","scroll_bar"),t.$dom.el.appendChild(t.$dom.el_bar));t.$dom.el_bar.style.position="absolute",t.$dom.el_bar.style.top="0px",t.$dom.el_bar.style.right="3px",t.$dom.el_bar.style.width="2px",t.$dom.el_bar.style.height=t.$dom.bar_h+"px",t.$dom.el_bar.style.background="gray"}(this)}},j=function(t,e){this.el=t,this.op=e,this.initData(),this.modeRecogn(),this.event()};!function(t){!function(t){t.prototype.defalut=function(){this.defalut_option={scrollX:!1,scrollBar:!1,inertia:!0,capture:!1,stopPropagation:!1,skipCurrent:!1,direction:!1,scrollType:0,sideLock:null,_swiper:!1,swiper:{btn:!1,loop:!1,autoPlay:!1,threshold:.5}},this.$dom={el_content:null,el_bar:null,el_w:null,el_h:null,content_w:null,content_h:null,bar_h:null,scroll_T:null,scroll_B:null,scroll_L:null,scroll_R:null,swiper:{el_childs:null,el_frist:null,el_last:null,el_btn:null,len:null}},this.$pos={x:0,y:0,num:0},this._this={dt:null,dx:null,dy:null,mt:null,mx:null,my:null,vx:null,vy:null,vt:null,ine:!1,friction:null,num:0,loopLock:!1,pullDown:!1,pullUp:!1,direction:!1},this.$event={start:null,move:null,end:null,onScroll:new Function,onTouchStart:new Function,onTouchMove:new Function,onTouchEnd:new Function,scrollFunArr:[],touchStartFunArr:[],touchMoveFunArr:[],touchEndFunArr:[],time:null,timer:null}}}(t),t.prototype.initData=function(){this.defalut(),this.$op=this.extend(this.defalut_option,this.op),this.initDom()},t.prototype.initDom=function(){this.$dom.el=this.el,this.$dom.el_content=this.el.firstElementChild;var t=this.$dom.el.clientHeight,e=this.$dom.el.clientWidth,n=this.$dom.el_content.clientHeight,i=this.$dom.el_content.clientWidth,o=t/n*t;this.$dom.el_h=t,this.$dom.el_w=e,this.$dom.content_h=n,this.$dom.content_w=i,this.$dom.bar_h=o,this.$dom.scroll_T=0,this.$dom.scroll_B=this.$dom.content_h-this.$dom.el_h,this.$dom.scroll_L=0,this.$dom.scroll_R=this.$dom.content_w-this.$dom.el_w},t.prototype.extend=function(t,e){var n=t,i=e;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];Array.isArray(s)?n[o]=s:n[o]="object"===typeof s?this.extend(n[o],i[o]):s}return n},t.prototype.refresh=function(){this.initDom(),this.modeRecogn(),this._setPos()},t.prototype.initSetPos=function(){this.$pos.x=0,this.$pos.y=0,this._setPos()}}(j),function(t){O(t),function(t){t.prototype.swiper=function(){var t;!function(t){var e=t.$dom.swiper;t.$op._swiper&&t.$op.swiper.loop&&t.$dom.swiper.el_last&&t.$dom.swiper.el_frist&&(t.$dom.el_content.removeChild(e.el_frist),t.$dom.el_content.removeChild(e.el_last))}(this),function(t){var e=t.$dom.swiper;e.el_childs=function(t){for(var e=[],n=0;n<t.length;n++)1===t[n].nodeType&&e.push(t[n]);return e}(t.$dom.el_content.childNodes),e.len=e.el_childs.length,e.el_frist=e.el_childs[0],e.el_last=e.el_childs[e.len-1],t.$dom.el_content.style.width=100*e.len+"%",t.$dom.content_w=t.$dom.el_content.clientWidth}(this),function(t){if(t.$op._swiper&&t.$op.swiper.loop&&t.$dom.swiper.el_frist&&t.$dom.swiper.el_last){var e=t.$dom.swiper.el_frist.cloneNode(!0),n=t.$dom.swiper.el_last.cloneNode(!0);t.$dom.swiper.el_frist=t.$dom.el_content.insertBefore(n,t.$dom.swiper.el_childs[0]),t.$dom.swiper.el_last=t.$dom.el_content.appendChild(e),t.$dom.el_content.style.width=100*(t.$dom.swiper.len+2)+"%",t.$pos.x=-t.$dom.el_w,t.setPos()}}(this),!(t=this).$op._swiper&&t.$op.swiper.btn},t.prototype.changeNum=function(){var t=this.$op.swiper.threshold,e=this._this;if(this.$op.scrollX){var n=Math.abs(this.$pos.x/this.$dom.el_w),i=n-Math.floor(n);if(!this.$op.swiper.loop){if(0===e.num&&e.vx>0)return;if(e.num===this.$dom.swiper.len-1&&e.vx<0)return}e.vx>0?i>t?e.num=Math.ceil(n):i<=t&&(e.num=Math.floor(n)):i>1-t?e.num=Math.ceil(n):i<=1-t&&(e.num=Math.floor(n))}this.$pos.num=e.num,this.changeSide()},t.prototype.changeSide=function(){this.$pos.num=this._this.num;var t=this._this.num;this.$dom.scroll_L=-this.$dom.el_w*t,this.$dom.scroll_R=-this.$dom.scroll_L},t.prototype.loopJump=function(){var t=this.$dom.content_w+this.$dom.el_w;if(0===this.$pos.x||0===this._this.num){var e=this.$dom.el_w*this.$dom.swiper.len;this.$pos.x=-e,this._this.num=this.$dom.swiper.len-1,this._this.loopLock=!1}else if(this.$pos.x===-t||this._this.num===this.$dom.swiper.len+1){var n=this.$dom.el_w;this.$pos.x=-n,this._this.num=0,this._this.loopLock=!1}this.setPos()},t.prototype.loopLock=function(){if(this.$op.swiper&&this.$op.swiper.loop&&this.$op._swiper){var t=this.$dom.content_w+this.$dom.el_w;return this.$pos.x>-0?this._this.loopLock=!0:this.$pos.x<-t?this._this.loopLock=!0:this._this.loopLock=!1,this._this.loopLock}}}(t),t.prototype.modeRecogn=function(){var t=this.op;for(var e in t)if(t.hasOwnProperty(e))switch(e){case"swiper":if(!t[e])return;return this.$op._swiper=!0,void this.swiper();default:this.scroll()}}}(j),function(t){!function(t){t.prototype.setPos=function(){var t=this.$dom.el_content,e=this.$dom.el_bar;this.$op.scrollX?t.style.transform="translateX("+this.$pos.x+"px) translateZ(0px)":(t.style.transform="translateY("+this.$pos.y+"px) translateZ(0px)",e&&(e.style.top=-this.$pos.y/this.$dom.content_h*this.$dom.el_h+"px")),this.$event.onScroll()},t.prototype._setPos=function(){var t=this.$dom.el_content,e=this.$dom.el_bar;this.$op.scrollX?t.style.transform="translateX("+this.$pos.x+"px) translateZ(0px)":(t.style.transform="translateY("+this.$pos.y+"px) translateZ(0px)",e&&(e.style.top=-this.$pos.y/this.$dom.content_h*this.$dom.el_h+"px"))},t.prototype.outSide=function(t){var e=Boolean;if(this.$op.scrollX)switch(t){case"left":e=this.$pos.x>this.$dom.scroll_L;break;case"right":e=this.$pos.x<-this.$dom.scroll_R;break;default:e=this.$pos.x>this.$dom.scroll_L||this.$pos.x<-this.$dom.scroll_R}else switch(t){case"top":e=this.$pos.y>this.$dom.scroll_T;break;case"bottom":e=this.$pos.y<-this.$dom.scroll_B;break;default:e=this.$pos.y>this.$dom.scroll_T||this.$pos.y<-this.$dom.scroll_B}return e}}(t),function(t){t.prototype.startInertia=function(){this.$op.inertia&&(this._this.vt<40&&Math.abs(this._this.vy)>1&&!this.$op.scrollX?this._this.ine=!0:this._this.vt<40&&!this.$op.scrollX&&Math.abs(this._this.vx)>1?this._this.ine=!0:this._this.ine=!1,this.outSide()&&(this._this.ine=!1),this.calcInertia())},t.prototype.calcInertia=function(){this._this.ine&&(this.$op.scrollX?this._this.friction=.1*(this._this.vt*this._this.vx+this._this.vx):this._this.friction=.1*(this._this.vt*this._this.vy+this._this.vy),this.setInertia())},t.prototype.setInertia=function(){if(this.$op.inertia){var t=null;if(Math.abs(this._this.friction)<1)return this.$op.sideLock[0]&&this.$pos.y>=this.$op.sideLock[0]?(window.cancelAnimationFrame(this.$event.time),this.$pos.y=this.$op.sideLock[0],void this.setPos()):void window.cancelAnimationFrame(this.$event.time);this.outSide()?(this._this.friction-=.2*this._this.friction,t=this._this.friction-.2*this._this.friction):(this._this.friction-=.1*this._this.friction,t=this._this.friction-.1*this._this.friction),this.$op.scrollX?this.$pos.x+=t:this.$pos.y+=t,this.setPos(),this.$event.time=window.requestAnimationFrame(this.setInertia.bind(this))}}}(t),function(t){t.prototype.setEase=function(){if(this.cancelEase()&&this.$op._swiper&&this.$op.swiper.loop)this.loopJump();else if(this.$op.scrollX){if(this.outSide("left")){var t=this.$pos.x-this.$dom.scroll_L;this.$pos.x-=.2*t,this.$pos.x-this.$dom.scroll_L<1&&(this.$pos.x=this.$dom.scroll_L),this.setPos(this.$pos.x),this.$event.timer=window.requestAnimationFrame(this.setEase.bind(this))}if(this.outSide("right")){var e=this.$pos.x+this.$dom.scroll_R;this.$pos.x-=.2*e,Math.abs(this.$pos.x)-this.$dom.scroll_R<1&&(this.$pos.x=-this.$dom.scroll_R),this.setPos(this.$pos.x),this.$event.timer=window.requestAnimationFrame(this.setEase.bind(this))}}else{if(this.outSide("top")){var n=this.$pos.y-this.$dom.scroll_T;this.$pos.y-=.2*n,Math.abs(this.$pos.y)-this.$dom.scroll_T<1&&(this.$pos.y=this.$dom.scroll_T),this.setPos(this.$pos.y),this.$event.timer=window.requestAnimationFrame(this.setEase.bind(this))}if(this.outSide("bottom")){var i=this.$pos.y+this.$dom.scroll_B;this.$pos.y-=.2*i,Math.abs(this.$pos.y)-this.$dom.scroll_B<1&&(this.$pos.y=-this.$dom.scroll_B),this.setPos(this.$pos.y),this.$event.timer=window.requestAnimationFrame(this.setEase.bind(this))}}},t.prototype.cancelEase=function(){if(this.$op.scrollX){if(this.$pos.x===this.$dom.scroll_L||this.$pos.x===-this.$dom.scroll_R)return window.cancelAnimationFrame(this.$event.timer),!0}else if(this.$pos.y===this.$dom.scroll_T||this.$pos.y===-this.$dom.scroll_B)return window.cancelAnimationFrame(this.$event.timer),!0}}(t),function(t){t.prototype.direction=function(){var t=this.$op.direction,e=this._this.vx,n=this._this.vy;"X"===t||"x"===t?Math.abs(this._this.vx)>2&&(Math.abs(e)>Math.abs(n)?(this.$op.stopPropagation=!0,this.$op.skipCurrent=!1,this._this.direction="x"):(this.$op.stopPropagation=!1,this.$op.skipCurrent=!0,this._this.direction=!1)):"Y"!==t&&"y"!==t||Math.abs(this._this.vy)>2&&(Math.abs(n)>Math.abs(e)?(this.$op.stopPropagation=!0,this.$op.skipCurrent=!1,this._this.direction="y"):(this.$op.stopPropagation=!1,this.$op.skipCurrent=!0,this._this.direction=!1))},t.prototype.initiaDirection=function(){this.$op.skipCurrent=!1,this.$op.stopPropagation=!1,this._this.direction=!1}}(t),function(t){t.prototype.on=function(t,e){switch(t){case"onTouchStart":this.$event.onTouchStart=function(t,e){e.$event.touchEndFunArr.push(t);var n=e.$event.touchEndFunArr;return function(){n.forEach(function(t){t(e.$pos,e.el)})}}(e,this);break;case"onTouchMove":this.$event.onTouchMove=function(t,e){e.$event.touchMoveFunArr.push(t);var n=e.$event.touchMoveFunArr;return function(){n.forEach(function(t){t(e.$pos,e.el)})}}(e,this);break;case"onTouchEnd":this.$event.onTouchEnd=function(t,e){e.$event.touchEndFunArr.push(t);var n=e.$event.touchEndFunArr;return function(){n.forEach(function(t){t(e.$pos,e.el)})}}(e,this);break;case"onScroll":this.$event.onScroll=function(t,e){e.$event.scrollFunArr.push(t);var n=e.$event.scrollFunArr;return function(){n.forEach(function(t){t(e.$pos,e.el)})}}(e,this);break;case"onSwiper":this.$event.onSwiper=void 0;break;default:console.log("\u8f93\u5165\u6709\u6548\u4e8b\u4ef6")}},t.prototype.removeOn=function(t,e){var n=null;switch(t){case"onTouchStart":n=this.$event.touchStartFunArr;break;case"onTouchMove":n=this.$event.touchMoveFunArr;break;case"onTouchEnd":n=this.$event.touchEndFunArr;break;case"onScroll":n=this.$event.scrollFunArr;break;default:return void console.log("\u8f93\u5165\u7684\u4e8b\u4ef6\u7c7b\u578b\u6709\u8bef")}for(var i=0;i<n.length;i++)if(n[i]===e){var o=n.splice(i,1);console.log(o)}},t.prototype.checkEvent=function(t){var e=null;switch(t){case"onTouchStart":e=this.$event.touchStartFunArr;break;case"onTouchMove":e=this.$event.touchMoveFunArr;break;case"onTouchEnd":e=this.$event.touchEndFunArr;break;case"onScroll":e=this.$event.scrollFunArr;break;default:return void console.log("\u8f93\u5165\u7684\u4e8b\u4ef6\u7c7b\u578b\u6709\u8bef")}return e}}(t),t.prototype.event=function(){this.addEvent()},t.prototype.addEvent=function(){this.el.addEventListener("touchstart",this.EventTouchStart.bind(this),{passive:!1,capture:!!this.$op.capture}),this.el.addEventListener("touchmove",this.EventTouchMove.bind(this),{passive:!1,capture:!!this.$op.capture}),this.el.addEventListener("touchend",this.EventTouchEnd.bind(this),{passive:!1,capture:!!this.$op.capture})},t.prototype.removeEvent=function(){this.el.removeEventListener("touchstart",this.EventTouchStart.bind(this),{passive:!1,capture:!!this.$op.capture}),this.el.removeEventListener("touchmove",this.EventTouchMove.bind(this),{passive:!1,capture:!!this.$op.capture}),this.el.removeEventListener("touchend",this.EventTouchEnd.bind(this),{passive:!1,capture:!!this.$op.capture})},t.prototype.EventTouchStart=function(t){window.cancelAnimationFrame(this.$event.time),this.initiaDirection(),this._this={vx:null,vy:null,vt:null},this._this.dt=t.timeStamp,this._this.dx=t.touches[0].clientX,this._this.dy=t.touches[0].clientY,this.$op.direction&&(this.$op.stopPropagation=!0),this.$event.onTouchStart()},t.prototype.EventTouchMove=function(t){if(t.preventDefault(),!this.$op.skipCurrent&&(this.$op.stopPropagation&&t.stopPropagation(),!(this.$op._swiper&&this.$op.swiper.loop&&this.loopLock())))if(this._this.mt=t.timeStamp,this._this.mx=t.touches[0].clientX,this._this.my=t.touches[0].clientY,this._this.vx=this._this.mx-this._this.dx,this._this.vy=this._this.my-this._this.dy,this._this.vt=this._this.mt-this._this.dt,!this.$op.direction||this._this.direction){if(this.$op.direction&&this._this.direction===this.$op.direction?window.cancelAnimationFrame(this.$event.timer):this.$op.direction||window.cancelAnimationFrame(this.$event.timer),this.$op._swiper?this.$op._swiper&&(0!==this._this.num||this.$op.swiper.loop?this._this.num!==this.$dom.swiper.len-1||this.$op.swiper.loop?this.$pos.x+=this._this.vx:this._this.vx<0?this.$pos.x+=.2*this._this.vx:this.$pos.x+=this._this.vx:this._this.vx>0?this.$pos.x+=.2*this._this.vx:this.$pos.x+=this._this.vx):this.$op.scrollX?this.outSide()?this.$pos.x+=.2*this._this.vx:this.$pos.x+=this._this.vx:this.$op.scrollX||(this.outSide()?this.$pos.y+=.2*this._this.vy:this.$pos.y+=this._this.vy),!this.$op.scrollX&&this.$op.sideLock){if(this.$pos.y>=this.$op.sideLock[0]&&this.$op.sideLock[0])return this.$pos.y=this.$op.sideLock[0],void this._setPos();if(this.$pos.y<=-(this.$dom.content_h-this.$dom.el_h+this.$op.sideLock[1])&&this.$op.sideLock[1])return this.$pos.y=-(this.$dom.content_h-this.$dom.el_h+this.$op.sideLock[1]),void this._setPos()}this.setPos(),this.$event.onTouchMove(),this._this.dt=this._this.mt,this._this.dx=this._this.mx,this._this.dy=this._this.my}else this.direction()},t.prototype.EventTouchEnd=function(t){this.$op.skipCurrent||(this.$op.stopPropagation&&t.stopPropagation(),this.$op._swiper&&this.changeNum(),this.startInertia(),this.setEase(),this.$event.onTouchEnd())}}(j);var C=j,D=function(t){function e(){return Object(p.a)(this,e),Object(f.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){this.scroll=new C(this.refs.scroll,this.props.options),this.props.getScroll&&this.props.getScroll(this.scroll)}},{key:"componentDidUpdate",value:function(){this.scroll.refresh()}},{key:"render",value:function(){return o.a.createElement("div",{ref:"scroll",className:this.props.className,style:this.props.style},this.props.children)}}]),e}(o.a.Component),I=(n(90),function(t){var e=t.top_stories,n={width:document.documentElement.clientWidth,height:"200px"};return o.a.createElement("div",{style:n},o.a.createElement(D,{className:"content-banner",style:{width:"100%",height:"100%",overflow:"hidden"},options:{scrollX:!0,direction:"x",swiper:{loop:!0}}},o.a.createElement("ul",{className:"content-banner-list"},e?e.map(function(t,e){return o.a.createElement("li",{className:t.id,"data-type":e,style:{width:document.documentElement.clientWidth},key:e},o.a.createElement(N,{to:"/page?type=top_stories&&id=".concat(t.id),outSide:document.querySelector(".container"),inSide:document.querySelector(".page")},o.a.createElement("div",{className:"image",style:{}},o.a.createElement("img",{className:"banner-img",src:t.image,alt:t.ga_prefix,style:{margin:"0px"}})),o.a.createElement("div",{className:"text"},o.a.createElement("p",null,t.title))))}):null)))}),A=(n(91),function(t){var e=t.stories;return o.a.createElement("ul",{className:"content-list"},e?e.map(function(t){return o.a.createElement("li",{className:t.id,"data-type":t.id,key:t.id},o.a.createElement(N,{to:"/page?type=stories&&id=".concat(t.id),outSide:document.querySelector(".container"),inSide:document.querySelector(".page")},o.a.createElement("div",{className:"text"},o.a.createElement("span",null,t.title)),o.a.createElement("div",{className:"image"},o.a.createElement("img",{src:t.images,alt:t.ga_prefix,style:{margin:"0px"}}))))}):null)}),P=function(t){return o.a.createElement("div",{className:"content-top-list"},o.a.createElement(A,t))},M=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={top_stories:n.props.topData.top_stories,stories:n.props.topData.stories},n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"contentTop"},o.a.createElement(I,{top_stories:this.state.top_stories}),o.a.createElement(P,{stories:this.state.stories}))}}]),e}(o.a.Component),W=function(t){for(var e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u65e5"],i=0;i<e.length;i++)if(e[i]===t)return n[i]},F=function(t){var e=t.slice(0,4),n=t.slice(4,6),i=t.slice(6,8),o=new Date(e,n,i).toString().slice(0,3);return n+"\u6708"+i+"\u65e5 "+W(o)},X=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={},n.titleList=[],n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getTitleList",value:function(){return[this.refs.beforeTitle.offsetTop,F(this.props.date)]}},{key:"componentDidMount",value:function(){this.props.onGetTitleList(this.getTitleList())}},{key:"render",value:function(){return o.a.createElement("div",{ref:"beforeTitle",className:"before-title title",style:{background:"rgb(2, 143, 214)"}},o.a.createElement("span",{style:{color:"white"}},F(this.props.date)))}}]),e}(o.a.Component),q=X=Object(r.b)(null,function(t){return{onGetTitleList:function(e){t({type:"GET_TITLELIST",titleList:e})}}})(X),H=function(t){return o.a.createElement("div",{className:"content-before-list"},o.a.createElement(A,t))},B=function(t){function e(){return Object(p.a)(this,e),Object(f.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"content-before"},this.props.beforeData.map(function(t,e){return o.a.createElement("div",{className:"content-before-".concat(e),key:e},o.a.createElement(q,{date:t.date}),o.a.createElement(H,{stories:t.stories}))}))}}]),e}(o.a.Component),R=n(40),G=n.n(R),Z=function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,display:"flex",justifyContent:"center",alignItems:"center"};return o.a.createElement("div",{className:"loading",style:t},o.a.createElement("img",{src:G.a,style:{width:"50px",lineHeight:"50px"},alt:"loading"}))},Y=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).scroll=null,t.titleEl=null,t.pEl=null,t.bannerEl=null,t.imgEl=null,t.bannerHeight=null,t.titleList=null,t.dataLoading=!1,t}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getScroll",value:function(t){var e=this;this.scroll=t,this.titleEl=document.querySelector(".content-title"),this.spanEl=document.querySelector(".content-title span"),this.bannerEl=document.querySelector(".content-banner"),this.imgsEl=document.querySelectorAll(".content-banner-list .image"),this.bannerHeight=this.bannerEl.clientHeight,this.titleList=this.props.titleList,this.scroll.on("onScroll",function(t){e.onScrollDown(t),e.onScrollUp(t)}),this.scroll.on("onTouchMove",function(t){console.log(t)}),this.scroll.on("onTouchEnd",function(t){console.log(t)})}},{key:"onScrollUp",value:function(t){var e=this,n=this.scroll.$dom.content_h-this.scroll.$dom.el_h;if(t.y<=0&&function(t,e,n,i,o,s){var a=n,r=i,l=e,c=l.length,h=s,m=o;t>=0?a.style.backgroundColor="rgba(".concat(m,",0)"):t<=-h&&t>-h-50?a.style.backgroundColor="rgba(".concat(m,",1)"):t<=0&&t>=-h&&(a.style.backgroundColor="rgba(".concat(m,", ").concat(t/-h,")")),l.forEach(function(e,n,i){var o=null,s=Math.abs(t);1!==c&&(o=i[n-1]),o&&(s<i[0][0]?r.innerText="\u6bcf\u65e5\u65b0\u95fb":n===c-1&&s>o[0]&&s<e[0]?r.innerText=o[1]:s>o[0]&&s<e[0]&&(r.innerText=o[1]))})}(t.y,this.titleList,this.titleEl,this.spanEl,"2,143,214",this.bannerHeight),t.y<200-n){if(this.dataLoading)return;this.dataLoading=!0,w().then(w).then(function(){e.dataLoading=!1})}}},{key:"onScrollDown",value:function(t){t.y>0&&b(t.y,this.bannerEl,this.imgsEl,this.bannerHeight)}},{key:"componentDidMount",value:function(){!function(){var t=h.dispatch;x.a.get("https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/latest").then(function(e){var n=e.data.date,i=e.data,o=i.top_stories,s=i.stories,a=[],r=[];o.forEach(function(t){return a.push(t.id)}),s.forEach(function(t){return r.push(t.id)}),t({type:"GET_DATE",date:n}),t({type:"GET_TOPDATA",topData:i}),t({type:"GET_TOP_STORIES_ID",top_stories_id:h.getState().top_stories_id.concat(a)}),t({type:"GET_STORIES_ID",stories_id:h.getState().stories_id.concat(r)})}).then(function(){w()})}()}},{key:"render",value:function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,overflow:"hidden"};return o.a.createElement("div",{className:"content",style:{margin:"0px"}},this.props.topData&&this.props.beforeData.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(T,null),o.a.createElement(D,{className:"scroll",style:t,options:{scrollX:!1,scrollBar:!0,direction:"y",sideLock:[100,null]},getScroll:this.getScroll.bind(this)},o.a.createElement("div",null,o.a.createElement(M,{topData:this.props.topData}),o.a.createElement(B,{beforeData:this.props.beforeData})))):o.a.createElement(Z,null))}}]),e}(o.a.Component),z=Y=Object(r.b)(function(t){return{date:t.date,topData:t.topData,beforeData:t.beforeData,titleList:t.titleList}})(Y),U=n(41),J=n.n(U),K=function(){return o.a.createElement("div",{className:"tab-user",style:{width:"100%",height:"54px",display:"flex",margin:"20px 0px"}},o.a.createElement("div",{className:"image",style:{width:"35px",height:"35px",borderRadius:"50%",overflow:"hidden",margin:"auto 10px",background:"#5b5b5b"}},o.a.createElement("img",{src:J.a,alt:"\u7528\u6237\u5934\u50cf",style:{width:"100%"}})),o.a.createElement("div",{className:"text"},o.a.createElement("p",{style:{color:"#74797e"}},"\u8bf7\u767b\u5f55")))},Q=n(42),V=n.n(Q),tt=n(43),et=n.n(tt),nt=n(44),it=n.n(nt),ot=function(){var t=[["collect",V.a,"\u6536\u85cf"],["news",et.a,"\u6d88\u606f"],["option",it.a,"\u8bbe\u7f6e"]];return o.a.createElement("div",{className:"option",style:{width:"100%",marginTop:"10px",display:"flex"}},t.map(function(t,e){return o.a.createElement("div",{className:t[0],style:{width:"54px",height:"70px",textAlign:"center",marginRight:"10px"},key:e},o.a.createElement("div",{style:{width:"18px",height:"18px",margin:"10px auto"}},o.a.createElement("img",{src:t[1],alt:t[2],style:{width:"100%"}})),o.a.createElement("p",{style:{color:"#74797e",margin:"0px"}},t[2]))}))},st=n(45),at=n.n(st),rt=function(){var t=[["home",at.a,"\u9996\u9875"]];return o.a.createElement("div",{className:"list"},t.map(function(t,e){return o.a.createElement("div",{className:t[0],key:e,style:{display:"flex",width:"100%",height:"56px",background:"#1b2329"}},o.a.createElement("div",{style:{width:"24px",height:"24px",margin:"auto 10px"}},o.a.createElement("img",{src:t[1],alt:t[2],style:{width:"100%"}})),o.a.createElement("p",{style:{color:"#fff"}},t[2]))}))},lt=function(t){function e(){return Object(p.a)(this,e),Object(f.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t={width:.6*document.documentElement.clientWidth,height:document.documentElement.clientHeight,background:"#232a30"};return o.a.createElement("div",{className:"tab",style:t},o.a.createElement(K,null),o.a.createElement(ot,null),o.a.createElement(rt,null))}}]),e}(o.a.Component),ct=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).container=null,t.tabWidth=null,t}return Object(g.a)(e,t),Object(d.a)(e,[{key:"onTouchStart",value:function(t){var e=this,n=t.currentTarget,i=t.touches[0].clientX,o=Number(window.getComputedStyle(n).transform.split(",")[4]),s=o;n.ontouchmove=function(t){var a=t.touches[0].clientX;(s=o+(a-i))<-e.tabWidth?(s=-e.tabWidth,n.style.transform="translateX(".concat(-e.tabWidth,"px) translateZ(0px)")):s>0?(s=0,n.style.transform="translateX(".concat(0,"px) translateZ(0px)")):n.style.transform="translateX(".concat(s,"px) translateZ(0px)")},n.ontouchend=function(){var t=-e.tabWidth/2;s>t?y.call(e,s,0,n):s<t&&y.call(e,s,-e.tabWidth,n),n.ontouchmove=null,n.ontouchend=null}}},{key:"componentDidMount",value:function(){this.container=document.querySelector(".container"),this.tabWidth=document.querySelector(".tab").clientWidth,this.container.style.transform="translateX(-".concat(this.tabWidth,"px)")}},{key:"render",value:function(){return o.a.createElement("div",{className:"container",style:{display:"flex",float:"left"},onTouchStart:this.onTouchStart.bind(this)},o.a.createElement(lt,null),o.a.createElement(z,null))}}]),e}(o.a.Component),ht=n(46),mt=n.n(ht),ut=(n(98),function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).state={pageList:null},t.scroll=null,t.linkEl=null,t}return Object(g.a)(e,t),Object(d.a)(e,[{key:"createLink",value:function(){var t=this.state.pageList.css;this.link=document.createElement("link"),this.link.setAttribute("rel","stylesheet"),this.link.setAttribute("type","text/css"),this.link.setAttribute("href",t),document.querySelector("head").appendChild(this.link)}},{key:"removeLink",value:function(){this.link&&document.querySelector("head").removeChild(this.link)}},{key:"createImg",value:function(){for(var t=this,e=document.querySelectorAll(".content-wrap"),n=0;n<e.length;n++)e[n].style.overflow="visible";this.refs.content.querySelector(".img-place-holder").innerHTML="<div class='img-content'>\n                <img src=".concat(this.state.pageList.image," alt=").concat(this.state.pageList.ga_prefix,"/>\n            </div>");for(var i=document.querySelectorAll(".main-wrap img"),o=0;o<i.length;o++)i[o].onload=function(){t.scroll.refresh()}}},{key:"onScroll",value:function(){var t=this.refs.content.querySelector(".img-content"),e=t.querySelector("img");this.scroll.on("onScroll",function(n){n.y>0&&b(n.y,t,e,200)})}},{key:"componentDidMount",value:function(){var t=this;0!==this.props.indexId&&function(t,e){var n="https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/news/"+t,i=h.getState().pageList,o=h.dispatch;if(!i[t])return x.a.get(n).then(function(n){o({type:"GET_PAAGELIST",pageList:Object.assign(i,Object($.a)({},t,n))}),e(n)});e(i[t])}(this.props.indexId,function(e){var n=e.data;t.setState({pageList:n},function(){t.createLink(),t.createImg(),t.onScroll()})})}},{key:"componentWillReceiveProps",value:function(t){this.props.scroll!==t.scroll&&(this.scroll=t.scroll)}},{key:"componentWillUnmount",value:function(){this.removeLink()}},{key:"render",value:function(){return this.state.pageList?o.a.createElement("div",{className:"page-list-content",ref:"content",dangerouslySetInnerHTML:{__html:this.state.pageList.body}}):o.a.createElement(Z,null)}}]),e}(o.a.Component)),pt=n(28),dt=n.n(pt),ft=n(47),vt=n.n(ft),gt=n(48),yt=n.n(gt),Et=n(49),bt=n.n(Et),$t=(n(99),function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={num:0},n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getCommentData",value:function(){var t=this,e=this.props.indexId;0!==e&&function(t,e){var n="https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/long-comments/"+t,i="https://www.easy-mock.com/mock/5d0bc7f4fbb61819f947c795/zhihu/proxy/short-comments/"+t,o=h.getState().commentList,s=h.dispatch;if(!o[t])return x.a.all([x.a.get(n),x.a.get(i)]).then(x.a.spread(function(n,i){s({type:"GET_COMMENTLIST",commentList:Object.assign(o,Object($.a)({},t,{longComment:n.data,shortComment:i.data}))}),e({longComment:n.data,shortComment:i.data})}));e(o[t])}(e,function(e){var n=e.longComment.comments.length+e.shortComment.comments.length;t.setState({num:n})})}},{key:"onClickLeft",value:function(t){t.stopPropagation();var e=this.props.history.goBack,n=document.querySelector(".container"),i=document.querySelector(".page"),o=Number(window.getComputedStyle(n).transform.split(",")[4]),s=Number(window.getComputedStyle(i).transform.split(",")[4]);new Promise(function(t){y(o,-225,n,t),y(s,0,i,t)}).then(function(){e()})}},{key:"onClickDown",value:function(t){t.stopPropagation(),this.props.nextId&&(this.props.onPageNextListData(this.props.nextId),console.log("123"))}},{key:"componentDidMount",value:function(){this.getCommentData()}},{key:"render",value:function(){return o.a.createElement("div",{className:"page-list-comment"},o.a.createElement("div",{className:"icon arrow-left"},o.a.createElement("div",{className:"page-list-comment-img"},o.a.createElement("img",{src:dt.a,alt:"arrow-left",onClick:this.onClickLeft.bind(this)}))),o.a.createElement("div",{className:"icon arraw-down"},o.a.createElement("div",{className:"page-list-comment-img"},o.a.createElement("img",{src:dt.a,alt:"arrow-down",onClick:this.onClickDown.bind(this)}))),o.a.createElement("div",{className:"icon like"},o.a.createElement("div",{className:"page-list-comment-img"},o.a.createElement("img",{src:vt.a,alt:"like"}))),o.a.createElement("div",{className:"icon share"},o.a.createElement("div",{className:"page-list-comment-img"},o.a.createElement("img",{src:yt.a,alt:"share"}))),o.a.createElement("div",{className:"icon message",style:{position:"relative"}},o.a.createElement(N,{to:"/page/comment/".concat(this.props.indexId),outSide:document.querySelector(".page"),inSide:document.querySelector(".comment")},o.a.createElement("div",{className:"page-list-comment-img"},o.a.createElement("img",{src:bt.a,alt:"message"})),o.a.createElement("div",{className:"page-list-comment-number"},o.a.createElement("span",null,this.state.num)))))}}]),e}(o.a.Component)),_t=$t=Object(u.d)($t),xt=n(23),wt=n.n(xt),kt=function(t){var e={width:"25px",height:"25px",transition:"transform 0.2s ease",transform:t.switch?"rotate(180deg)":"rotate(0deg)"};return o.a.createElement("div",{className:"page-list-top",style:{width:"100%",height:"45px",position:"absolute",top:"0px",marginTop:"-45px",display:"flex",justifyContent:"center"}},t.prevId?o.a.createElement("div",{className:"page-list-top-img",style:e},o.a.createElement("img",{src:wt.a,alt:"upData",style:{width:"100%"}})):null,o.a.createElement("div",{className:"page-list-top-text"},o.a.createElement("span",{style:{color:"#ccc"}},t.prevId?"\u4e0b\u62c9\u5237\u65b0\u4e0a\u4e00\u7bc7":"\u5df2\u7ecf\u662f\u7b2c\u4e00\u7bc7")))},St=function(t){var e={width:"25px",height:"25px",transition:"transform 0.2s ease",transform:t.switch?"rotate(180deg)":"rotate(0deg)"};return o.a.createElement("div",{className:"page-list-bottom",style:{position:"absolute",width:"100%",height:"45px",marginBottom:"-45px",display:"flex",justifyContent:"center"}},t.nextId?o.a.createElement("div",{className:"page-list-top-img",style:e},o.a.createElement("img",{src:wt.a,alt:"upData",style:{width:"100%"}})):null,o.a.createElement("div",{className:"page-list-top-text"},o.a.createElement("span",{style:{color:"#ccc"}},t.nextId?"\u4e0a\u62c9\u5237\u65b0\u4e0b\u4e00\u7bc7":"\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u7bc7")))},Lt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={scroll:null,switch:!1},n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getScroll",value:function(t){var e=this;this.setState({scroll:t},function(){e.onScroll()})}},{key:"onPagePrevListData",value:function(){var t=this,e=document.querySelector(".page-content");new Promise(function(t){E(-document.documentElement.clientHeight,0,e,t)}).then(function(){t.props.onPrevListData(t.props.prevId),t.state.scroll.initSetPos()})}},{key:"onPageNextListData",value:function(t){var e=this,n=document.querySelector(".page-content");new Promise(function(t){E(-document.documentElement.clientHeight,2*-document.documentElement.clientHeight,n,t)}).then(function(){console.log("pageList"),e.props.onNextListData(t),e.state.scroll.initSetPos()})}},{key:"onScroll",value:function(){var t=this;this.state.scroll.on("onScroll",function(e){var n=t.state.scroll.$dom.content_h-t.state.scroll.$dom.el_h;e.y>50||e.y<-(n+70)?t.setState(function(t){if(!0!==t.switch)return{switch:!0}}):t.setState(function(t){if(!1!==t.switch)return{switch:!1}})}),this.state.scroll.on("onTouchEnd",function(e){var n=t.state.scroll.$dom.content_h-t.state.scroll.$dom.el_h;t.setState(function(t){if(!1!==t.switch)return{switch:!1}}),e.y>50&&t.props.prevId&&t.onPagePrevListData(),e.y<-(n+70)&&t.props.nextId&&t.onPageNextListData(t.props.nextId)})}},{key:"componentWillUnmount",value:function(){this.state.scroll.removeEvent()}},{key:"render",value:function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,position:"relative",overflow:"hidden"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{className:"page-list-scroll",style:t,options:{scrollBar:!0,direction:"Y",sideLock:[70,null]},getScroll:this.getScroll.bind(this)},o.a.createElement("div",{className:"page-list",ref:"pageList",style:{width:"100%",position:"relative",minHeight:"1000px"}},o.a.createElement(ut,{indexId:this.props.indexId,onPageScroll:this.onScroll.bind(this),scroll:this.state.scroll}),o.a.createElement("div",{style:{width:"100%",height:"40px"}}),o.a.createElement(kt,{prevId:this.props.prevId,switch:this.state.switch}),o.a.createElement(St,{nextId:this.props.nextId,switch:this.state.switch})),o.a.createElement(_t,{indexId:this.props.indexId,nextId:this.props.nextId,onPageNextListData:this.onPageNextListData.bind(this)})))}}]),e}(o.a.Component),Tt=(n(100),function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={pageList:[]},n.el=null,n.id=null,n.type=null,n.type_id=null,n.loading=!1,n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getUrl",value:function(){var t=mt.a.parse(this.props.location.search,!0);this.id=t.query.id,this.type=t.query.type,this.type_id=this.props["".concat(this.type,"_id")];this.props.history.listen}},{key:"getPageList",value:function(t){var e=this,n=this.type_id,i=Number(t),o=[];n.forEach(function(t,e,n){if(i===t){var s=n[e-2],a=n[e-1],r=n[e],l=n[e+1];[[s,a,r],[a,r,l],[r,l,n[e+2]]].forEach(function(t){var e={};e=t[1]?{prevId:t[0],indexId:t[1],nextId:t[2]}:{prevId:t[0],indexId:0,nextId:t[2]},o.push(e)})}}),this.setState({pageList:o},function(){console.log(e.state.pageList)})}},{key:"onTouchStart",value:function(t){var e=this,n=t.currentTarget,i=this.props.history.goBack,o=document.querySelector(".container"),s=document.querySelector(".page"),a=Number(window.getComputedStyle(o).transform.split(",")[4]),r=Number(window.getComputedStyle(s).transform.split(",")[4]),l=t.touches[0].clientX;n.ontouchmove=function(t){var e=t.touches[0].clientX-l,n=e/2;e<0||(o.style.transform="translateX(".concat(a+n,"px) translateZ(0px)"),s.style.transform="translateX(".concat(r+e,"px) translateZ(0px)"))},n.ontouchend=function(){e.touchEnd=!0;var t=document.documentElement.clientWidth,r=Number(window.getComputedStyle(o).transform.split(",")[4]),l=Number(window.getComputedStyle(s).transform.split(",")[4]);l<-t/2?(y(r,a,o),y(l,-t,s)):l>=-t/2&&new Promise(function(t){y(r,-225,o,t),y(l,0,s,t)}).then(function(){i()}),n.ontouchmove=null,n.ontouchend=null}}},{key:"onPrevListData",value:function(t){console.log("\u6267\u884c\u4e0b\u62c9\u64cd\u4f5c"),this.getPageList(t),this.el=this.refs.pageContent;var e=document.documentElement.clientHeight;this.el.style.transform="translateY(".concat(-e,"px) translateZ(0px)"),(0,this.props.history.replace)("/page?".concat(t))}},{key:"onNextListData",value:function(t){console.log("\u6267\u884c\u4e0a\u62c9\u64cd\u4f5c"),this.getPageList(t),this.el=this.refs.pageContent;var e=document.documentElement.clientHeight;this.el.style.transform="translateY(".concat(-e,"px) translateZ(0px)"),(0,this.props.history.replace)("/page?".concat(t))}},{key:"componentWillMount",value:function(){this.getUrl(),this.getPageList(this.id)}},{key:"render",value:function(){var t=this,e={width:document.documentElement.clientWidth,height:3*document.documentElement.clientHeight,transform:"translateY(-".concat(document.documentElement.clientHeight,"px)"),background:"white"};return o.a.createElement("div",{className:"page-content",ref:"pageContent",style:e,onTouchStart:this.onTouchStart.bind(this)},this.state.pageList.length?this.state.pageList.map(function(e){return o.a.createElement("div",{className:"page-content-list-".concat(e.indexId),key:e.indexId},o.a.createElement(Lt,{onPrevListData:t.onPrevListData.bind(t),onNextListData:t.onNextListData.bind(t),prevId:e.prevId,indexId:e.indexId,nextId:e.nextId}))}):null)}}]),e}(o.a.Component)),Nt=Tt=Object(r.b)(function(t){return{top_stories_id:t.top_stories_id,stories_id:t.stories_id}})(Tt),Ot=function(t){var e={width:document.documentElement.clientWidth,height:"45px",background:"rgb(2, 143, 214)",textAlign:"center",lineHeight:"45px",color:"white"};return o.a.createElement("div",{className:"comment-title",style:e},"".concat(t.commentNum,"\u6761\u8bc4\u8bba"))},jt=n(50),Ct=n.n(jt),Dt=function(t){return o.a.createElement("div",{className:"comment-list-content",style:{display:"flex",width:document.documentElement.clientWidth,borderBottom:"0.5px solid rgba(191,191,191,0.8)"}},o.a.createElement("div",{className:"avatar",style:{width:"20%"}},o.a.createElement("div",{style:{width:"35px",height:"35px",borderRadius:"50%",overflow:"hidden",margin:"15px auto"}},o.a.createElement("img",{src:t.comment.avatar,alt:"avatar",style:{width:"100%"}}))),o.a.createElement("div",{className:"content",style:{width:"80%"}},o.a.createElement("div",{className:"top",style:{height:"45px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{className:"author",style:{fontWeight:"600"}},o.a.createElement("span",null,t.comment.author)),o.a.createElement("div",{className:"like",style:{marginRight:"15px"}},o.a.createElement("img",{src:Ct.a,alt:"like",style:{width:"16px"}}),o.a.createElement("span",{style:{color:"#bfbfbf"}},t.comment.likes))),o.a.createElement("div",{className:"middle",style:{marginRight:"20px"}},o.a.createElement("span",{style:{fontSize:"15px"}},t.comment.content)),o.a.createElement("div",{className:"bottom",style:{width:"100%",height:"45px",lineHeight:"45px",fontSize:"14px"}},o.a.createElement("span",null,function(){var t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},e=new Date(Date.now()-1560753647).toString().split(" "),n=e[1],i=e[2],o=e[4];for(var s in t)if(n===s)return"".concat(t[s],"-").concat(i," ").concat(o)}()))))},It=(n(101),function(t){var e=t.longComments.comments;return o.a.createElement("div",{className:"comment-list-long"},o.a.createElement("div",{style:{width:"100%",height:"45px",borderBottom:"0.5px solid rgba(191,191,191,0.5)",color:"black",lineHeight:"45px"}},o.a.createElement("span",{style:{marginLeft:"15px",fontWeight:"600"}},"".concat(e.length,"\u6761\u957f\u8bc4"))),o.a.createElement("div",{className:"long-comment-list"},e.map(function(t){return o.a.createElement(Dt,{comment:t,key:t.id})})))}),At=(n(102),function(t){var e=t.shortComments.comments;return o.a.createElement("div",{className:"comment-list-short"},o.a.createElement("div",{style:{width:"100%",height:"45px",borderBottom:"0.5px solid rgba(191,191,191,0.5)",color:"black",lineHeight:"45px"}},o.a.createElement("span",{style:{marginLeft:"15px",fontWeight:"600"}},"".concat(e.length,"\u6761\u77ed\u8bc4"))),o.a.createElement("div",{className:"short-comment-list"},e.map(function(t){return o.a.createElement(Dt,{comment:t,key:t.id})})))}),Pt=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).state={scroll:null},t}return Object(g.a)(e,t),Object(d.a)(e,[{key:"getScroll",value:function(t){this.setState({scroll:t})}},{key:"render",value:function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight-45,overflow:"hidden"},e={width:document.documentElement.clientWidth,minHeight:document.documentElement.clientHeight-45,position:"relative",paddingBottom:"40px",background:"white"};return o.a.createElement(D,{className:"comment-list-scroll",style:t,options:{scrollX:!1,direction:"Y",scrollBar:!0},getScroll:this.getScroll.bind(this)},o.a.createElement("div",{className:"comment-list",style:e},o.a.createElement(It,{longComments:this.props.commentList.longComment}),o.a.createElement(At,{shortComments:this.props.commentList.shortComment,scroll:this.state.scroll})))}}]),e}(o.a.Component),Mt=n(51),Wt=n.n(Mt),Ft=n(52),Xt=n.n(Ft),qt=function(t){console.log(t);var e={position:"fixed",bottom:"0px",width:document.documentElement.clientWidth,height:"40px",background:"#3d3d3d",display:"flex",justifyContent:"center",alignItems:"center"};return o.a.createElement("div",{className:"comment-bottom",style:e},o.a.createElement("div",{className:"comment-bot-arrow",style:{position:"absolute",left:"15px",transform:"rotate(90deg)"}},o.a.createElement("img",{src:Wt.a,alt:"arrow",style:{width:"30px",height:"30px"},onClick:function(){var e=document.querySelector(".page"),n=Number(window.getComputedStyle(e).transform.split(",")[4]),i=document.querySelector(".comment"),o=Number(window.getComputedStyle(i).transform.split(",")[4]);new Promise(function(t){y(n,-document.documentElement.clientWidth,e,t),y(o,0,i,t)}).then(function(){t.history.goBack()})}.bind(void 0)})),o.a.createElement("div",{className:"text"},o.a.createElement("img",{src:Xt.a,alt:"comment",style:{width:"15px",height:"15px",marginRight:"5px"}}),o.a.createElement("span",{style:{color:"white",fontSize:"14px"}},"\u5199\u8bc4\u8bba")))},Ht=qt=Object(u.d)(qt),Bt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(v.a)(e).call(this,t))).indexId=n.props.match.params.id,n.commentList=n.props.commentList[n.indexId],n.commentNum=n.commentList.longComment.comments.length+n.commentList.shortComment.comments.length,n}return Object(g.a)(e,t),Object(d.a)(e,[{key:"onTouchStart",value:function(t){console.log("comment");var e=this,n=document.querySelector(".comment"),i=document.querySelector(".page"),o=Number(window.getComputedStyle(n).transform.split(",")[4]),s=Number(window.getComputedStyle(i).transform.split(",")[4]),a=t.currentTarget,r=t.touches[0].clientX,l=null,c=null;a.ontouchmove=function(t){var e=t.touches[0].clientX-r;l=s+e/2,(c=o+e)<=o?(l=s,c=o,i.style.transform="translateX(".concat(l,"px)"),n.style.transform="translateX(".concat(o,"}px)")):c>=0?(l=s+document.documentElement.clientWidth/2,i.style.transform="translateX(".concat(l,"px)"),n.style.transform="translateX(".concat(0,"px)")):(i.style.transform="translateX(".concat(l,"px)"),n.style.transform="translateX(".concat(c,"px)"))},a.ontouchend=function(){l&&c&&(c<-document.documentElement.clientWidth/2?(y(l,s,i),y(c,o,n)):(console.log(l),new Promise(function(t){y(l,-document.documentElement.clientWidth,i,t),y(c,0,n,t)}).then(function(){e.props.history.goBack()})),a.ontouchmove=null,a.ontouchend=null)}}},{key:"render",value:function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,background:"white"};return o.a.createElement("div",{style:t,onTouchStart:this.onTouchStart.bind(this)},o.a.createElement(Ot,{commentNum:this.commentNum}),o.a.createElement(Pt,{commentList:this.commentList}),o.a.createElement(Ht,null))}}]),e}(o.a.Component),Rt=Bt=Object(r.b)(function(t){return{commentList:t.commentList}})(Bt);n(103);var Gt=function(){var t={position:"relative",width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,overflow:"hidden"},e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,overflow:"hidden"},n={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,position:"relative",top:"-".concat(document.documentElement.clientHeight,"px"),left:document.documentElement.clientWidth},i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,position:"absolute",top:"0px",left:document.documentElement.clientWidth};return o.a.createElement(r.a,{store:h},o.a.createElement(m.a,null,o.a.createElement("div",{className:"App",style:t},o.a.createElement("div",{className:"index",style:e},o.a.createElement(ct,null)),o.a.createElement("div",{className:"page",style:n},o.a.createElement(u.a,{path:"/page",component:Nt})),o.a.createElement("div",{className:"comment",style:i},o.a.createElement(u.a,{path:"/page/comment/:id",component:Rt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},23:function(t,e,n){t.exports=n.p+"static/media/up.66aaad91.svg"},28:function(t,e,n){t.exports=n.p+"static/media/arrow.96333e81.svg"},36:function(t,e,n){},38:function(t,e,n){t.exports=n.p+"static/media/btn.d96e3e98.svg"},40:function(t,e,n){t.exports=n.p+"static/media/Rolling-1s-200px.b800e9ba.svg"},41:function(t,e,n){t.exports=n.p+"static/media/timg.26f19a46.jpg"},42:function(t,e,n){t.exports=n.p+"static/media/\u6536\u85cf.4fceb174.svg"},43:function(t,e,n){t.exports=n.p+"static/media/\u6d88\u606f.0665e09d.svg"},44:function(t,e,n){t.exports=n.p+"static/media/\u8bbe\u7f6e.15c9ac90.svg"},45:function(t,e,n){t.exports=n.p+"static/media/\u9996\u9875.e7faafd7.svg"},47:function(t,e,n){t.exports=n.p+"static/media/like.fff51b3b.svg"},48:function(t,e,n){t.exports=n.p+"static/media/share.9dff36e7.svg"},49:function(t,e,n){t.exports=n.p+"static/media/message.f6fcbd5e.svg"},50:function(t,e,n){t.exports=n.p+"static/media/like.85872c1f.svg"},51:function(t,e,n){t.exports=n.p+"static/media/arrow.96333e81.svg"},52:function(t,e,n){t.exports=n.p+"static/media/comment.b5b586fe.svg"},53:function(t,e,n){t.exports=n(104)},58:function(t,e,n){},90:function(t,e,n){},91:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[53,1,2]]]);
//# sourceMappingURL=main.15ad214e.chunk.js.map